ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"main.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.uwFindBaudRate,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	uwFindBaudRate:
  27              	.LFB114:
  28              		.file 1 "../user/source/main.c"
   1:../user/source/main.c **** #include "main.h"
   2:../user/source/main.c **** #include "GPIO.h"
   3:../user/source/main.c **** #include "Uart.h"
   4:../user/source/main.c **** #include "DLT645.h"
   5:../user/source/main.c **** #include "Flash.h"
   6:../user/source/main.c **** #include "Time.h"
   7:../user/source/main.c **** #include "protocol.h"
   8:../user/source/main.c **** #include "DLT698.h"
   9:../user/source/main.c **** #include "DLT698_45.h"
  10:../user/source/main.c **** 
  11:../user/source/main.c **** uint32_t gSystickAccuracy; //1秒内的SysTick数
  12:../user/source/main.c **** 
  13:../user/source/main.c **** /*698数据存储单元*/
  14:../user/source/main.c **** COLL_STORE_DATA stCollData;
  15:../user/source/main.c **** /*串口收帧标志*/
  16:../user/source/main.c **** bool FLAG_UartZD_HasData = false;
  17:../user/source/main.c **** bool FLAG_UartDB_HasData = false;
  18:../user/source/main.c **** /*自动波特率识别相关参数*/
  19:../user/source/main.c **** struct AUTO_BAUD AutoBaud485 =
  20:../user/source/main.c ****     {
  21:../user/source/main.c ****         .irqCount = 100,
  22:../user/source/main.c ****         .uwBaudelay = 0xFFFFFFFF,
  23:../user/source/main.c ****         .Uart_BaudRate = 0,
  24:../user/source/main.c **** };
  25:../user/source/main.c **** /*上电后延时启动参数*/
  26:../user/source/main.c **** uint32_t uwBootDelay = 2000000;
  27:../user/source/main.c **** 
  28:../user/source/main.c **** extern uint8_t Dayfrozen_Change_State;
  29:../user/source/main.c **** static void vLedRun(uint32_t delay);
  30:../user/source/main.c **** static void VoltageTimeOutHandle(void);
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 2


  31:../user/source/main.c **** static void RsvFrameHandle(uint8_t *pucBuffer);
  32:../user/source/main.c **** static void vAutoSetBaudrate(void);
  33:../user/source/main.c **** static uint32_t uwFindBaudRate(uint32_t baudDelay);
  34:../user/source/main.c **** 
  35:../user/source/main.c **** int main(void)
  36:../user/source/main.c **** {
  37:../user/source/main.c ****     /*485口波特率类型*/
  38:../user/source/main.c ****     ProtocolDef ProtocolType = none;
  39:../user/source/main.c ****     /*698帧APDU数据段指针*/
  40:../user/source/main.c ****     uint8_t *pAPDU = NULL;
  41:../user/source/main.c ****     uint32_t dwLen = 0;
  42:../user/source/main.c ****     uint32_t i;
  43:../user/source/main.c ****     /*698帧链路层参数*/
  44:../user/source/main.c ****     DLT698_FRAME dlt698Frame;
  45:../user/source/main.c ****     vGPIO_Init();
  46:../user/source/main.c ****     /*集中器上电过程中485总线有乱码，此时不能识别波特率*/
  47:../user/source/main.c ****     while (uwBootDelay--)
  48:../user/source/main.c ****     {
  49:../user/source/main.c ****         vFeedExtWatchDog();
  50:../user/source/main.c ****     }
  51:../user/source/main.c ****     NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);
  52:../user/source/main.c ****     vInterFlash_Init();
  53:../user/source/main.c ****     vFeedExtWatchDog();
  54:../user/source/main.c ****     vTimer_Init();
  55:../user/source/main.c ****     vLed_Light();
  56:../user/source/main.c ****     vSystickSetAccuracy(1000000); //SysTick = 1us
  57:../user/source/main.c ****     vSystickIntCmd(ENABLE);
  58:../user/source/main.c ****     /*TICK使能后才能初始化外部中断*/
  59:../user/source/main.c ****     vExti_Init(); //
  60:../user/source/main.c ****     vUart_EnableBaudrate(pUartIR, 1200);
  61:../user/source/main.c ****     /*电压修改的上下限值设为默认值；开启修改功能 */
  62:../user/source/main.c ****     Voltage_Change_Init();
  63:../user/source/main.c ****     /*电流重过载参数设置*/
  64:../user/source/main.c ****     vCurrent_Limit_DefaultSet();
  65:../user/source/main.c ****     /*电量修改的上下限值设为默认值；开启修改功能 */
  66:../user/source/main.c ****     vEnergy_Modify_Init();
  67:../user/source/main.c ****     while (1)
  68:../user/source/main.c ****     {
  69:../user/source/main.c ****         vFeedExtWatchDog();
  70:../user/source/main.c ****         /*红外串口收帧处理 */
  71:../user/source/main.c ****         if (blDrv_Buf_IsEmpty(pUartIR->pRsvbuf) == false)
  72:../user/source/main.c ****         {
  73:../user/source/main.c ****             if (blRecvFrame(pUartIR->pRsvbuf, ucApp_Buf_INFR))
  74:../user/source/main.c ****             {
  75:../user/source/main.c ****                 vINFRDataID_Handle(ucApp_Buf_INFR);
  76:../user/source/main.c ****                 /*红外口回帧*/
  77:../user/source/main.c ****                 if (!blDrv_Buf_IsEmpty(pUartIR->pSndbuf))
  78:../user/source/main.c ****                 {
  79:../user/source/main.c ****                     USART_ITConfig(USART2, USART_IT_RXNE, DISABLE);
  80:../user/source/main.c ****                     USART_ITConfig(USART2, USART_IT_TXE, ENABLE);
  81:../user/source/main.c ****                 }
  82:../user/source/main.c ****             }
  83:../user/source/main.c ****         } //end 红外收帧处理
  84:../user/source/main.c ****         /*485口收帧处理*/
  85:../user/source/main.c ****         switch (ProtocolType)
  86:../user/source/main.c ****         {
  87:../user/source/main.c ****         case none:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 3


  88:../user/source/main.c ****         {
  89:../user/source/main.c ****             vFeedExtWatchDog();
  90:../user/source/main.c ****             vLedRun(TICK_200MS);
  91:../user/source/main.c ****             if (AutoBaud485.Uart_BaudRate == 0)
  92:../user/source/main.c ****             {
  93:../user/source/main.c ****                 if (AutoBaud485.irqCount > 0)
  94:../user/source/main.c ****                 {
  95:../user/source/main.c ****                     break;
  96:../user/source/main.c ****                 }
  97:../user/source/main.c ****                 else
  98:../user/source/main.c ****                 {
  99:../user/source/main.c ****                     EXTI_DeInit();
 100:../user/source/main.c ****                     AutoBaud485.Uart_BaudRate = uwFindBaudRate(AutoBaud485.uwBaudelay);
 101:../user/source/main.c ****                     vSystickSetAccuracy(1000); //systick=1ms
 102:../user/source/main.c ****                     vSystickIntCmd(ENABLE);
 103:../user/source/main.c ****                     vUart_EnableBaudrate(pUartZD, AutoBaud485.Uart_BaudRate); //使能接收中断
 104:../user/source/main.c ****                     vUart_EnableBaudrate(pUartDB, AutoBaud485.Uart_BaudRate);
 105:../user/source/main.c ****                     /*接收后续字节并忽略*/
 106:../user/source/main.c ****                     vFeedExtWatchDog();
 107:../user/source/main.c ****                     Uart_IdleRead(pUartZD, ucApp_Buf_ZD2DB, DRV_BUF_SIZE, TICK_500MS);
 108:../user/source/main.c ****                     vBuf_Clear(pUartZD->pRsvbuf);
 109:../user/source/main.c ****                     Uart_idleReadEnable(pUartZD);
 110:../user/source/main.c ****                     Uart_idleReadEnable(pUartDB);
 111:../user/source/main.c ****                 }
 112:../user/source/main.c ****             }
 113:../user/source/main.c ****             else
 114:../user/source/main.c ****             {
 115:../user/source/main.c ****                 /*识别规约类型*/
 116:../user/source/main.c ****                 if (FLAG_UartZD_HasData)
 117:../user/source/main.c ****                 {
 118:../user/source/main.c ****                     Uart_idleReadDisable(pUartZD);
 119:../user/source/main.c ****                     FLAG_UartZD_HasData = false;
 120:../user/source/main.c ****                     vFeedExtWatchDog();
 121:../user/source/main.c ****                     dwLen = dwUartCopy(pUartZD, ucApp_Buf_ZD2DB, pUartDB);
 122:../user/source/main.c ****                     ProtocolType = GetProtocolType(ucApp_Buf_ZD2DB, dwLen);
 123:../user/source/main.c ****                     Uart_idleReadEnable(pUartZD);
 124:../user/source/main.c ****                 }
 125:../user/source/main.c ****                 if (FLAG_UartDB_HasData)
 126:../user/source/main.c ****                 {
 127:../user/source/main.c ****                     Uart_idleReadDisable(pUartDB);
 128:../user/source/main.c ****                     FLAG_UartDB_HasData = false;
 129:../user/source/main.c ****                     vFeedExtWatchDog();
 130:../user/source/main.c ****                     dwLen = dwUartCopy(pUartDB, ucApp_Buf_DB2ZD, pUartZD);
 131:../user/source/main.c ****                     ProtocolType = GetProtocolType(ucApp_Buf_DB2ZD, dwLen); //校验错误也过？
 132:../user/source/main.c ****                     Uart_idleReadEnable(pUartDB);
 133:../user/source/main.c ****                 }
 134:../user/source/main.c ****             }
 135:../user/source/main.c ****             break;
 136:../user/source/main.c ****         }
 137:../user/source/main.c ****         case dlt698:
 138:../user/source/main.c ****         {
 139:../user/source/main.c ****             vFeedExtWatchDog();
 140:../user/source/main.c ****             vLedRun(TICK_1S);
 141:../user/source/main.c ****             Uart_idleReadEnable(pUartZD);
 142:../user/source/main.c ****             Uart_idleReadEnable(pUartDB);
 143:../user/source/main.c ****             if (FLAG_UartZD_HasData)
 144:../user/source/main.c ****             {
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 4


 145:../user/source/main.c ****                 Uart_idleReadDisable(pUartZD);
 146:../user/source/main.c ****                 FLAG_UartZD_HasData = false;
 147:../user/source/main.c ****                 vFeedExtWatchDog();
 148:../user/source/main.c ****                 dwLen = dwUartCopy(pUartZD, ucApp_Buf_ZD2DB, pUartDB);
 149:../user/source/main.c ****                 Uart_idleReadEnable(pUartZD);
 150:../user/source/main.c ****                 break;
 151:../user/source/main.c ****             }
 152:../user/source/main.c ****             if (FLAG_UartDB_HasData)
 153:../user/source/main.c ****             {
 154:../user/source/main.c ****                 vFeedExtWatchDog();
 155:../user/source/main.c ****                 Uart_idleReadDisable(pUartDB);
 156:../user/source/main.c ****                 FLAG_UartDB_HasData = false;
 157:../user/source/main.c ****                 dlt698Frame.pStart = NULL;
 158:../user/source/main.c **** 
 159:../user/source/main.c ****                 /*电表口收帧*/
 160:../user/source/main.c ****                 if ((dwLen = Uart_Read(pUartDB, ucApp_Buf_DB2ZD, DRV_BUF_SIZE)) == 0)
 161:../user/source/main.c ****                     break;
 162:../user/source/main.c ****                 if ((pGetpFrame(ucApp_Buf_DB2ZD, dwLen, &dlt698Frame)) == NULL ||
 163:../user/source/main.c ****                     (Voltage_Change_State == Voltage_NOChange &&
 164:../user/source/main.c ****                      Dayfrozen_Change_State == DAYFROZEN_NOCHANGE))
 165:../user/source/main.c ****                 {
 166:../user/source/main.c ****                     vFeedExtWatchDog();
 167:../user/source/main.c ****                     Uart_OnceWrite(pUartZD, ucApp_Buf_DB2ZD, dwLen, 1000 * TICK_1MS);
 168:../user/source/main.c ****                 }
 169:../user/source/main.c ****                 else
 170:../user/source/main.c ****                 {
 171:../user/source/main.c ****                     if ((dwLen = dwGet698Apdu(&dlt698Frame, &pAPDU)) > 0)
 172:../user/source/main.c ****                     {
 173:../user/source/main.c ****                         /*如果是GetRecordResponse，仅提取CSD==0的OAD*/
 174:../user/source/main.c ****                         if (dwAPduAnalyze(pAPDU, dwLen, &stCollData) > 0)
 175:../user/source/main.c ****                         {
 176:../user/source/main.c ****                             for (i = 0; i < stCollData.ucDataNum; i++)
 177:../user/source/main.c ****                             {
 178:../user/source/main.c ****                                 if (stCollData.stDataUnit[i].stOAD.OI_date == OI_VOLTAGE) /*电压OI*
 179:../user/source/main.c ****                                 {
 180:../user/source/main.c ****                                     v698VoltageModify(&stCollData.stDataUnit[i]);
 181:../user/source/main.c ****                                 }
 182:../user/source/main.c ****                                 else if (stCollData.stDataUnit[i].stOAD.OI_date == OI_FWACT && /*正
 183:../user/source/main.c ****                                          stCollData.stMainOAD.OI_date == OI_DAY_FRZ &&         /*日
 184:../user/source/main.c ****                                          stCollData.eDataCls == D_CLASS_DAY_FREEZE)
 185:../user/source/main.c ****                                 {
 186:../user/source/main.c ****                                     v698EnergyModify(&stCollData.stDataUnit[i]);
 187:../user/source/main.c ****                                 }
 188:../user/source/main.c ****                             }
 189:../user/source/main.c ****                             dwReCalculateFCS(&dlt698Frame);
 190:../user/source/main.c ****                         }
 191:../user/source/main.c ****                     }
 192:../user/source/main.c ****                     vFeedExtWatchDog();
 193:../user/source/main.c ****                     Uart_OnceWrite(pUartZD, dlt698Frame.pStart, dlt698Frame.uwFramelen + 2, TICK_50
 194:../user/source/main.c ****                 }
 195:../user/source/main.c ****             }
 196:../user/source/main.c ****             Uart_idleReadEnable(pUartDB);
 197:../user/source/main.c ****             break;
 198:../user/source/main.c ****         }
 199:../user/source/main.c ****         case dlt645:
 200:../user/source/main.c ****         {
 201:../user/source/main.c ****             vLedRun(TICK_1S);
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 5


 202:../user/source/main.c ****             /*串口无收发时喂狗间隔为1ms左右*/
 203:../user/source/main.c ****             vFeedExtWatchDog();
 204:../user/source/main.c ****             /*集中器侧数据帧收帧处理*/
 205:../user/source/main.c ****             if (blDrv_Buf_IsEmpty(pUartZD->pRsvbuf) == false)
 206:../user/source/main.c ****             {
 207:../user/source/main.c ****                 RsvFrameHandle(ucApp_Buf_ZD2DB);
 208:../user/source/main.c ****             }
 209:../user/source/main.c ****             /*电表侧收帧处理*/
 210:../user/source/main.c ****             /*未收到电表帧*/
 211:../user/source/main.c ****             if (blDrv_Buf_IsEmpty(pUartDB->pRsvbuf) == true)
 212:../user/source/main.c ****             {
 213:../user/source/main.c ****                 VoltageTimeOutHandle();
 214:../user/source/main.c ****             }
 215:../user/source/main.c ****             /*收到电表帧*/
 216:../user/source/main.c ****             else
 217:../user/source/main.c ****             {
 218:../user/source/main.c ****                 /*非法帧*/
 219:../user/source/main.c ****                 if (!blRecvFrame(pUartDB->pRsvbuf, ucApp_Buf_DB2ZD))
 220:../user/source/main.c ****                 {
 221:../user/source/main.c ****                     /*电压回帧超时*/
 222:../user/source/main.c ****                     if ((Voltage_Frame_Status == FrameAwaitingReply) &&
 223:../user/source/main.c ****                         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 224:../user/source/main.c ****                     {
 225:../user/source/main.c ****                         /*中继器使用上次的正确电压值替代回复*/
 226:../user/source/main.c ****                         if (blVoltage_Create(ucApp_Buf_ZD2DB))
 227:../user/source/main.c ****                         {
 228:../user/source/main.c ****                             ucDrv_Buf_PutBytes(ucApp_Buf_ZD2DB, pUartZD->pSndbuf, ucApp_Buf_ZD2DB[9
 229:../user/source/main.c ****                             /*发送电压帧*/
 230:../user/source/main.c ****                             if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 231:../user/source/main.c ****                             {
 232:../user/source/main.c ****                                 Uart_DataPut(USART1);
 233:../user/source/main.c ****                                 /*等待电压回帧状态清位*/
 234:../user/source/main.c ****                                 Voltage_Frame_Status = FrameReplied;
 235:../user/source/main.c ****                                 /*计时器复位*/
 236:../user/source/main.c ****                                 blFramesCounterStatus = false;
 237:../user/source/main.c ****                                 uwTime2FramesCounter = 0;
 238:../user/source/main.c ****                             }
 239:../user/source/main.c ****                         }
 240:../user/source/main.c ****                     }
 241:../user/source/main.c ****                 }
 242:../user/source/main.c ****                 /*合法帧*/
 243:../user/source/main.c ****                 else
 244:../user/source/main.c ****                 {
 245:../user/source/main.c ****                     vDBDataID_Handle(ucApp_Buf_DB2ZD);
 246:../user/source/main.c ****                     ucDrv_Buf_PutBytes(ucApp_Buf_DB2ZD, pUartZD->pSndbuf, uc645DataDomainLength + 1
 247:../user/source/main.c ****                     if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 248:../user/source/main.c ****                     {
 249:../user/source/main.c ****                         Uart_DataPut(pUartZD->handler);
 250:../user/source/main.c ****                     }
 251:../user/source/main.c ****                 }
 252:../user/source/main.c ****             }
 253:../user/source/main.c ****             /*可选功能：红外设置参数*/
 254:../user/source/main.c ****             /*该部分移植到规约状态机之外，与698规约共用*/
 255:../user/source/main.c ****             break;
 256:../user/source/main.c ****         } //end while
 257:../user/source/main.c ****         default:
 258:../user/source/main.c ****         {
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 6


 259:../user/source/main.c ****             break;
 260:../user/source/main.c ****         }
 261:../user/source/main.c ****         } //end switch
 262:../user/source/main.c ****     }     //end while
 263:../user/source/main.c **** } //end main
 264:../user/source/main.c **** 
 265:../user/source/main.c **** static void RsvFrameHandle(uint8_t *pucBuffer)
 266:../user/source/main.c **** {
 267:../user/source/main.c ****     /*帧合法性判断*/
 268:../user/source/main.c ****     if (blRecvFrame(pUartZD->pRsvbuf, pucBuffer))
 269:../user/source/main.c ****     {
 270:../user/source/main.c ****         /*是否召测电压*/
 271:../user/source/main.c ****         if ((pucBuffer[8] == 0X11) &&
 272:../user/source/main.c ****             (pucBuffer[10] == 0x33) &&
 273:../user/source/main.c ****             (pucBuffer[12] == 0x34) &&
 274:../user/source/main.c ****             (pucBuffer[13] == 0x35))
 275:../user/source/main.c ****         {
 276:../user/source/main.c ****             /*等待电压回帧状态置位*/
 277:../user/source/main.c ****             Voltage_Frame_Status = FrameAwaitingReply;
 278:../user/source/main.c ****             /*开始计时*/
 279:../user/source/main.c ****             blFramesCounterStatus = true;
 280:../user/source/main.c ****         }
 281:../user/source/main.c ****         /*转发召测帧*/
 282:../user/source/main.c ****         ucDrv_Buf_PutBytes(pucBuffer, pUartDB->pSndbuf, uc645DataDomainLength + 12);
 283:../user/source/main.c ****         if (!blDrv_Buf_IsEmpty(pUartDB->pSndbuf))
 284:../user/source/main.c ****         {
 285:../user/source/main.c ****             Uart_DataPut(pUartDB->handler);
 286:../user/source/main.c ****         }
 287:../user/source/main.c ****     }
 288:../user/source/main.c **** }
 289:../user/source/main.c **** 
 290:../user/source/main.c **** static void VoltageTimeOutHandle(void)
 291:../user/source/main.c **** {
 292:../user/source/main.c ****     /*召测电压超时*/
 293:../user/source/main.c ****     if ((Voltage_Frame_Status == FrameAwaitingReply) &&
 294:../user/source/main.c ****         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 295:../user/source/main.c ****     {
 296:../user/source/main.c ****         /*中继器使用上次的正确电压值替代回复*/
 297:../user/source/main.c ****         if (blVoltage_Create(ucApp_Buf_ZD2DB))
 298:../user/source/main.c ****         {
 299:../user/source/main.c ****             ucDrv_Buf_PutBytes(ucApp_Buf_ZD2DB, pUartZD->pSndbuf, ucApp_Buf_ZD2DB[9] + 12);
 300:../user/source/main.c ****             if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 301:../user/source/main.c ****             {
 302:../user/source/main.c ****                 Uart_DataPut(pUartZD->handler);
 303:../user/source/main.c ****                 /*等待电压回帧状态清位*/
 304:../user/source/main.c ****                 Voltage_Frame_Status = FrameReplied;
 305:../user/source/main.c ****                 /*计时器复位*/
 306:../user/source/main.c ****                 blFramesCounterStatus = false;
 307:../user/source/main.c ****                 uwTime2FramesCounter = 0;
 308:../user/source/main.c ****             }
 309:../user/source/main.c ****         }
 310:../user/source/main.c ****     }
 311:../user/source/main.c **** }
 312:../user/source/main.c **** /********************************************************************
 313:../user/source/main.c **** * 功    能：根据串口1位数据电平持续时间计算波特率
 314:../user/source/main.c **** * 输    入：电平持续时间
 315:../user/source/main.c **** * 输    出：对应波特率
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 7


 316:../user/source/main.c **** * 说    名：
 317:../user/source/main.c **** * 编 写 人：
 318:../user/source/main.c **** * 编写日期：2018年9月10日16:01:21
 319:../user/source/main.c **** **********************************************************************/
 320:../user/source/main.c **** uint32_t uwFindBaudRate(uint32_t baudDelay)
 321:../user/source/main.c **** {
  29              		.loc 1 321 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              	.LVL0:
 322:../user/source/main.c ****     /* Baud 1200 :1666us*/
 323:../user/source/main.c ****     //if (baudDelay > 1500 && baudDelay < 1800)
 324:../user/source/main.c ****     //   return 1200;
 325:../user/source/main.c ****     /* Baud 1200:833us*/
 326:../user/source/main.c ****     if (baudDelay > 820 && baudDelay < 850)
  35              		.loc 1 326 0
  36 0000 A0F23533 		subw	r3, r0, #821
  37 0004 1C2B     		cmp	r3, #28
  38 0006 0DD9     		bls	.L3
 327:../user/source/main.c ****         return 1200;
 328:../user/source/main.c ****     /* Baud 2400:417us*/
 329:../user/source/main.c ****     else if (baudDelay > 400 && baudDelay < 430)
  39              		.loc 1 329 0
  40 0008 A0F29113 		subw	r3, r0, #401
  41 000c 1C2B     		cmp	r3, #28
  42 000e 0CD9     		bls	.L4
 330:../user/source/main.c ****         return 2400;
 331:../user/source/main.c ****     /* Baud 4800:208us*/
 332:../user/source/main.c ****     else if (baudDelay > 190 && baudDelay < 220)
  43              		.loc 1 332 0
  44 0010 A0F1BF03 		sub	r3, r0, #191
  45 0014 1C2B     		cmp	r3, #28
  46 0016 0BD9     		bls	.L5
 333:../user/source/main.c ****         return 4800;
 334:../user/source/main.c ****     /* Baud 9600 :104us*/
 335:../user/source/main.c ****     else if (baudDelay > 90 && baudDelay < 120)
  47              		.loc 1 335 0
  48 0018 5B38     		subs	r0, r0, #91
  49              	.LVL1:
  50 001a 1C28     		cmp	r0, #28
  51 001c 0BD8     		bhi	.L6
 336:../user/source/main.c ****         return 9600;
  52              		.loc 1 336 0
  53 001e 4FF41650 		mov	r0, #9600
  54              	.LVL2:
  55 0022 7047     		bx	lr
  56              	.LVL3:
  57              	.L3:
 327:../user/source/main.c ****     /* Baud 2400:417us*/
  58              		.loc 1 327 0
  59 0024 4FF49660 		mov	r0, #1200
  60              	.LVL4:
  61 0028 7047     		bx	lr
  62              	.LVL5:
  63              	.L4:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 8


 330:../user/source/main.c ****     /* Baud 4800:208us*/
  64              		.loc 1 330 0
  65 002a 4FF41660 		mov	r0, #2400
  66              	.LVL6:
  67 002e 7047     		bx	lr
  68              	.LVL7:
  69              	.L5:
 333:../user/source/main.c ****     /* Baud 9600 :104us*/
  70              		.loc 1 333 0
  71 0030 4FF49650 		mov	r0, #4800
  72              	.LVL8:
  73 0034 7047     		bx	lr
  74              	.L6:
 337:../user/source/main.c ****     else
 338:../user/source/main.c ****         /*default baudrate*/
 339:../user/source/main.c ****         return 2400;
  75              		.loc 1 339 0
  76 0036 4FF41660 		mov	r0, #2400
 340:../user/source/main.c **** }
  77              		.loc 1 340 0
  78 003a 7047     		bx	lr
  79              		.cfi_endproc
  80              	.LFE114:
  82              		.section	.text.RsvFrameHandle,"ax",%progbits
  83              		.align	2
  84              		.thumb
  85              		.thumb_func
  87              	RsvFrameHandle:
  88              	.LFB112:
 266:../user/source/main.c ****     /*帧合法性判断*/
  89              		.loc 1 266 0
  90              		.cfi_startproc
  91              		@ args = 0, pretend = 0, frame = 0
  92              		@ frame_needed = 0, uses_anonymous_args = 0
  93              	.LVL9:
  94 0000 38B5     		push	{r3, r4, r5, lr}
  95              	.LCFI0:
  96              		.cfi_def_cfa_offset 16
  97              		.cfi_offset 3, -16
  98              		.cfi_offset 4, -12
  99              		.cfi_offset 5, -8
 100              		.cfi_offset 14, -4
 101 0002 0446     		mov	r4, r0
 268:../user/source/main.c ****     {
 102              		.loc 1 268 0
 103 0004 154B     		ldr	r3, .L11
 104 0006 1B68     		ldr	r3, [r3]
 105 0008 0146     		mov	r1, r0
 106 000a 5868     		ldr	r0, [r3, #4]
 107              	.LVL10:
 108 000c FFF7FEFF 		bl	blRecvFrame
 109              	.LVL11:
 110 0010 18B3     		cbz	r0, .L7
 271:../user/source/main.c ****             (pucBuffer[10] == 0x33) &&
 111              		.loc 1 271 0
 112 0012 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
 113 0014 112B     		cmp	r3, #17
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 9


 114 0016 0ED1     		bne	.L9
 272:../user/source/main.c ****             (pucBuffer[12] == 0x34) &&
 115              		.loc 1 272 0 discriminator 1
 116 0018 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 271:../user/source/main.c ****             (pucBuffer[10] == 0x33) &&
 117              		.loc 1 271 0 discriminator 1
 118 001a 332B     		cmp	r3, #51
 119 001c 0BD1     		bne	.L9
 273:../user/source/main.c ****             (pucBuffer[13] == 0x35))
 120              		.loc 1 273 0
 121 001e 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 272:../user/source/main.c ****             (pucBuffer[12] == 0x34) &&
 122              		.loc 1 272 0
 123 0020 342B     		cmp	r3, #52
 124 0022 08D1     		bne	.L9
 274:../user/source/main.c ****         {
 125              		.loc 1 274 0
 126 0024 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 273:../user/source/main.c ****             (pucBuffer[13] == 0x35))
 127              		.loc 1 273 0
 128 0026 352B     		cmp	r3, #53
 129 0028 05D1     		bne	.L9
 277:../user/source/main.c ****             /*开始计时*/
 130              		.loc 1 277 0
 131 002a 0022     		movs	r2, #0
 132 002c 0C4B     		ldr	r3, .L11+4
 133 002e 1A70     		strb	r2, [r3]
 279:../user/source/main.c ****         }
 134              		.loc 1 279 0
 135 0030 0122     		movs	r2, #1
 136 0032 0C4B     		ldr	r3, .L11+8
 137 0034 1A70     		strb	r2, [r3]
 138              	.L9:
 282:../user/source/main.c ****         if (!blDrv_Buf_IsEmpty(pUartDB->pSndbuf))
 139              		.loc 1 282 0
 140 0036 0C4D     		ldr	r5, .L11+12
 141 0038 2B68     		ldr	r3, [r5]
 142 003a 0C4A     		ldr	r2, .L11+16
 143 003c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 144 003e 0C32     		adds	r2, r2, #12
 145 0040 9968     		ldr	r1, [r3, #8]
 146 0042 2046     		mov	r0, r4
 147 0044 FFF7FEFF 		bl	ucDrv_Buf_PutBytes
 148              	.LVL12:
 283:../user/source/main.c ****         {
 149              		.loc 1 283 0
 150 0048 2B68     		ldr	r3, [r5]
 151 004a 9868     		ldr	r0, [r3, #8]
 152 004c FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 153              	.LVL13:
 154 0050 18B9     		cbnz	r0, .L7
 285:../user/source/main.c ****         }
 155              		.loc 1 285 0
 156 0052 2B68     		ldr	r3, [r5]
 157 0054 1868     		ldr	r0, [r3]
 158 0056 FFF7FEFF 		bl	Uart_DataPut
 159              	.LVL14:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 10


 160              	.L7:
 161 005a 38BD     		pop	{r3, r4, r5, pc}
 162              	.LVL15:
 163              	.L12:
 164              		.align	2
 165              	.L11:
 166 005c 00000000 		.word	pUartZD
 167 0060 00000000 		.word	Voltage_Frame_Status
 168 0064 00000000 		.word	blFramesCounterStatus
 169 0068 00000000 		.word	pUartDB
 170 006c 00000000 		.word	uc645DataDomainLength
 171              		.cfi_endproc
 172              	.LFE112:
 174              		.section	.text.VoltageTimeOutHandle,"ax",%progbits
 175              		.align	2
 176              		.thumb
 177              		.thumb_func
 179              	VoltageTimeOutHandle:
 180              	.LFB113:
 291:../user/source/main.c ****     /*召测电压超时*/
 181              		.loc 1 291 0
 182              		.cfi_startproc
 183              		@ args = 0, pretend = 0, frame = 0
 184              		@ frame_needed = 0, uses_anonymous_args = 0
 293:../user/source/main.c ****         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 185              		.loc 1 293 0
 186 0000 144B     		ldr	r3, .L17
 187 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 188 0004 23BB     		cbnz	r3, .L16
 291:../user/source/main.c ****     /*召测电压超时*/
 189              		.loc 1 291 0 discriminator 1
 190 0006 10B5     		push	{r4, lr}
 191              	.LCFI1:
 192              		.cfi_def_cfa_offset 8
 193              		.cfi_offset 4, -8
 194              		.cfi_offset 14, -4
 294:../user/source/main.c ****     {
 195              		.loc 1 294 0 discriminator 1
 196 0008 1921     		movs	r1, #25
 197 000a 134B     		ldr	r3, .L17+4
 198 000c 1888     		ldrh	r0, [r3]
 199 000e FFF7FEFF 		bl	blTime2_Update
 200              	.LVL16:
 293:../user/source/main.c ****         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 201              		.loc 1 293 0 discriminator 1
 202 0012 E0B1     		cbz	r0, .L13
 297:../user/source/main.c ****         {
 203              		.loc 1 297 0
 204 0014 1148     		ldr	r0, .L17+8
 205 0016 FFF7FEFF 		bl	blVoltage_Create
 206              	.LVL17:
 207 001a C0B1     		cbz	r0, .L13
 299:../user/source/main.c ****             if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 208              		.loc 1 299 0
 209 001c 104C     		ldr	r4, .L17+12
 210 001e 2368     		ldr	r3, [r4]
 211 0020 0E48     		ldr	r0, .L17+8
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 11


 212 0022 427A     		ldrb	r2, [r0, #9]	@ zero_extendqisi2
 213 0024 0C32     		adds	r2, r2, #12
 214 0026 9968     		ldr	r1, [r3, #8]
 215 0028 FFF7FEFF 		bl	ucDrv_Buf_PutBytes
 216              	.LVL18:
 300:../user/source/main.c ****             {
 217              		.loc 1 300 0
 218 002c 2368     		ldr	r3, [r4]
 219 002e 9868     		ldr	r0, [r3, #8]
 220 0030 FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 221              	.LVL19:
 222 0034 58B9     		cbnz	r0, .L13
 302:../user/source/main.c ****                 /*等待电压回帧状态清位*/
 223              		.loc 1 302 0
 224 0036 2368     		ldr	r3, [r4]
 225 0038 1868     		ldr	r0, [r3]
 226 003a FFF7FEFF 		bl	Uart_DataPut
 227              	.LVL20:
 304:../user/source/main.c ****                 /*计时器复位*/
 228              		.loc 1 304 0
 229 003e 0122     		movs	r2, #1
 230 0040 044B     		ldr	r3, .L17
 231 0042 1A70     		strb	r2, [r3]
 306:../user/source/main.c ****                 uwTime2FramesCounter = 0;
 232              		.loc 1 306 0
 233 0044 0023     		movs	r3, #0
 234 0046 074A     		ldr	r2, .L17+16
 235 0048 1370     		strb	r3, [r2]
 307:../user/source/main.c ****             }
 236              		.loc 1 307 0
 237 004a 034A     		ldr	r2, .L17+4
 238 004c 1380     		strh	r3, [r2]	@ movhi
 239              	.L13:
 240 004e 10BD     		pop	{r4, pc}
 241              	.L16:
 242              	.LCFI2:
 243              		.cfi_def_cfa_offset 0
 244              		.cfi_restore 4
 245              		.cfi_restore 14
 246 0050 7047     		bx	lr
 247              	.L18:
 248 0052 00BF     		.align	2
 249              	.L17:
 250 0054 00000000 		.word	Voltage_Frame_Status
 251 0058 00000000 		.word	uwTime2FramesCounter
 252 005c 00000000 		.word	ucApp_Buf_ZD2DB
 253 0060 00000000 		.word	pUartZD
 254 0064 00000000 		.word	blFramesCounterStatus
 255              		.cfi_endproc
 256              	.LFE113:
 258              		.section	.text.vLedRun,"ax",%progbits
 259              		.align	2
 260              		.thumb
 261              		.thumb_func
 263              	vLedRun:
 264              	.LFB117:
 341:../user/source/main.c **** 
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 12


 342:../user/source/main.c **** /********************************************************************
 343:../user/source/main.c **** * 功    能：计算串口1位数据电平持续时间
 344:../user/source/main.c **** * 输    入：持续时间存储位置
 345:../user/source/main.c **** * 输    出：None
 346:../user/source/main.c **** * 说    明：中断服务函数中记录n个中断的时标
 347:../user/source/main.c **** *           相邻时标计算脉冲持续时间
 348:../user/source/main.c **** *           查找最短持续时间
 349:../user/source/main.c **** * 编 写 人：
 350:../user/source/main.c **** * 编写日期：2018年9月5日15:08:58
 351:../user/source/main.c **** **********************************************************************/
 352:../user/source/main.c **** void vUartZD_BaudelayCal(volatile uint32_t *pBaudelay)
 353:../user/source/main.c **** {
 354:../user/source/main.c **** 
 355:../user/source/main.c ****     static uint32_t LAST_TICK = 0xFFFFFFFF;
 356:../user/source/main.c ****     uint32_t nowtick = 0;
 357:../user/source/main.c ****     uint32_t tmpdelay = 0;
 358:../user/source/main.c ****     AutoBaud485.irqCount--;
 359:../user/source/main.c ****     /*取当前tick数，0~0xFFFF循环*/
 360:../user/source/main.c ****     nowtick = TICKS;
 361:../user/source/main.c ****     /*初次收到串口数据，系统tick最大65535*/
 362:../user/source/main.c ****     if (LAST_TICK != 0xFFFFFFFF)
 363:../user/source/main.c ****     {
 364:../user/source/main.c ****         /*与lastick相减得到本次delay*/
 365:../user/source/main.c ****         tmpdelay = (nowtick + 0xFFFF - LAST_TICK) & 0xFFFF;
 366:../user/source/main.c ****         /*当前tick数存为count*/
 367:../user/source/main.c ****         LAST_TICK = nowtick;
 368:../user/source/main.c ****         /*与上次delay比较，取较小值存为delay*/
 369:../user/source/main.c ****         if (tmpdelay < *pBaudelay)
 370:../user/source/main.c ****         {
 371:../user/source/main.c ****             *pBaudelay = tmpdelay;
 372:../user/source/main.c ****         }
 373:../user/source/main.c ****     }
 374:../user/source/main.c ****     else //之前已有边沿中断
 375:../user/source/main.c ****     {
 376:../user/source/main.c ****         /*当前tick数存为lastick*/
 377:../user/source/main.c ****         /*delay= 0xFFFFFFFF*/
 378:../user/source/main.c ****         LAST_TICK = nowtick;
 379:../user/source/main.c ****     }
 380:../user/source/main.c **** }
 381:../user/source/main.c **** 
 382:../user/source/main.c **** void vAutoSetBaudrate(void)
 383:../user/source/main.c **** {
 384:../user/source/main.c ****     vSystickSetAccuracy(1000000); //SysTick = 1us
 385:../user/source/main.c ****     vSystickIntCmd(ENABLE);
 386:../user/source/main.c ****     /*TICK使能后才能初始化外部中断*/
 387:../user/source/main.c ****     vExti_Init(); //
 388:../user/source/main.c ****     AutoBaud485.irqCount = 100;
 389:../user/source/main.c ****     AutoBaud485.uwBaudelay = 0xFFFFFFFF;
 390:../user/source/main.c ****     while (AutoBaud485.irqCount)
 391:../user/source/main.c ****     {
 392:../user/source/main.c ****         vFeedExtWatchDog();
 393:../user/source/main.c ****     }
 394:../user/source/main.c ****     EXTI_DeInit();
 395:../user/source/main.c ****     AutoBaud485.Uart_BaudRate = uwFindBaudRate(AutoBaud485.uwBaudelay);
 396:../user/source/main.c ****     vSystickSetAccuracy(1000); //systick=1ms
 397:../user/source/main.c ****     vSystickIntCmd(ENABLE);
 398:../user/source/main.c ****     vUart_EnableBaudrate(pUartZD, AutoBaud485.Uart_BaudRate); //使能接收中断
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 13


 399:../user/source/main.c ****     vUart_EnableBaudrate(pUartDB, AutoBaud485.Uart_BaudRate);
 400:../user/source/main.c ****     /*接收后续字节并忽略*/
 401:../user/source/main.c ****     vFeedExtWatchDog();
 402:../user/source/main.c ****     Uart_IdleRead(pUartZD, ucApp_Buf_ZD2DB, DRV_BUF_SIZE, TICK_500MS);
 403:../user/source/main.c ****     vBuf_Clear(pUartZD->pRsvbuf);
 404:../user/source/main.c **** 
 405:../user/source/main.c **** #if 0
 406:../user/source/main.c ****     Uart_ITReadEnable(pUartZD);
 407:../user/source/main.c ****     /*last loop do not clear FLAG,second loop do not receive second frame*/
 408:../user/source/main.c ****     while (!FLAG_UartZD_HasData)
 409:../user/source/main.c ****     {
 410:../user/source/main.c ****         vFeedExtWatchDog();
 411:../user/source/main.c ****     }
 412:../user/source/main.c ****     Uart_ITReadDisable(pUartZD);
 413:../user/source/main.c ****     FLAG_UartZD_HasData = false;
 414:../user/source/main.c ****     pdataDown->len = Uart_Read(pUartZD, (uint8_t *)pdataDown, BUF_SIZE);
 415:../user/source/main.c ****     if (pdataDown->len == 0)
 416:../user/source/main.c ****     {
 417:../user/source/main.c ****         UartDB_BaudRate = 0;
 418:../user/source/main.c ****         continue;
 419:../user/source/main.c ****     }
 420:../user/source/main.c ****     do
 421:../user/source/main.c ****     {
 422:../user/source/main.c ****         vFeedExtWatchDog();
 423:../user/source/main.c ****         vUart_EnableBaudrate(pUartDB, UartDB_BaudRate);
 424:../user/source/main.c ****         Uart_OnceWrite(pUartDB, (uint8_t *)pdataDown, pdataDown->len, 1000);
 425:../user/source/main.c ****         pdataUp->len = Uart_IdleRead(pUartDB, (uint8_t *)pdataUp, BUF_SIZE, 500);
 426:../user/source/main.c ****         pframe = pGetpFrame((uint8_t *)pdataUp, pdataUp->len);
 427:../user/source/main.c ****         /*9600 -> 4800 -> 2400 -> 1200*/
 428:../user/source/main.c ****         UartDB_BaudRate = UartDB_BaudRate >> 1;
 429:../user/source/main.c ****     } while (pframe == NULL && UartDB_BaudRate > 600);
 430:../user/source/main.c ****     /*if no reply from DB,UartDB_BaudRate always == 600*/
 431:../user/source/main.c ****     //} while (UartDB_BaudRate < 1200); //波特率匹配完成
 432:../user/source/main.c **** #endif
 433:../user/source/main.c **** }
 434:../user/source/main.c **** void vLedRun(uint32_t delay)
 435:../user/source/main.c **** {
 265              		.loc 1 435 0
 266              		.cfi_startproc
 267              		@ args = 0, pretend = 0, frame = 0
 268              		@ frame_needed = 0, uses_anonymous_args = 0
 269              	.LVL21:
 270 0000 08B5     		push	{r3, lr}
 271              	.LCFI3:
 272              		.cfi_def_cfa_offset 8
 273              		.cfi_offset 3, -8
 274              		.cfi_offset 14, -4
 436:../user/source/main.c ****     static uint32_t last_tick = 0;
 437:../user/source/main.c ****     if (TICKS - last_tick > delay)
 275              		.loc 1 437 0
 276 0002 0F4B     		ldr	r3, .L23
 277 0004 1A68     		ldr	r2, [r3]
 278 0006 0F4B     		ldr	r3, .L23+4
 279 0008 1B68     		ldr	r3, [r3]
 280 000a D31A     		subs	r3, r2, r3
 281 000c 8342     		cmp	r3, r0
 282 000e 15D9     		bls	.L19
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 14


 438:../user/source/main.c ****     {
 439:../user/source/main.c ****         last_tick = TICKS;
 283              		.loc 1 439 0
 284 0010 0C4B     		ldr	r3, .L23+4
 285 0012 1A60     		str	r2, [r3]
 440:../user/source/main.c ****         if (Bit_SET == GPIO_ReadOutputDataBit(GPIOC, GPIO_Pin_13))
 286              		.loc 1 440 0
 287 0014 4FF40051 		mov	r1, #8192
 288 0018 0B48     		ldr	r0, .L23+8
 289              	.LVL22:
 290 001a FFF7FEFF 		bl	GPIO_ReadOutputDataBit
 291              	.LVL23:
 292 001e 0128     		cmp	r0, #1
 293 0020 06D1     		bne	.L21
 441:../user/source/main.c ****         {
 442:../user/source/main.c ****             GPIO_WriteBit(GPIOC, GPIO_Pin_13, Bit_RESET); //拉低PC13
 294              		.loc 1 442 0
 295 0022 0022     		movs	r2, #0
 296 0024 4FF40051 		mov	r1, #8192
 297 0028 0748     		ldr	r0, .L23+8
 298 002a FFF7FEFF 		bl	GPIO_WriteBit
 299              	.LVL24:
 300 002e 08BD     		pop	{r3, pc}
 301              	.L21:
 443:../user/source/main.c ****         }
 444:../user/source/main.c ****         else
 445:../user/source/main.c ****         {
 446:../user/source/main.c ****             GPIO_WriteBit(GPIOC, GPIO_Pin_13, Bit_SET);
 302              		.loc 1 446 0
 303 0030 0122     		movs	r2, #1
 304 0032 4FF40051 		mov	r1, #8192
 305 0036 0448     		ldr	r0, .L23+8
 306 0038 FFF7FEFF 		bl	GPIO_WriteBit
 307              	.LVL25:
 308              	.L19:
 309 003c 08BD     		pop	{r3, pc}
 310              	.L24:
 311 003e 00BF     		.align	2
 312              	.L23:
 313 0040 00000000 		.word	TICKS
 314 0044 00000000 		.word	.LANCHOR0
 315 0048 00080048 		.word	1207961600
 316              		.cfi_endproc
 317              	.LFE117:
 319              		.section	.text.main,"ax",%progbits
 320              		.align	2
 321              		.global	main
 322              		.thumb
 323              		.thumb_func
 325              	main:
 326              	.LFB111:
  36:../user/source/main.c ****     /*485口波特率类型*/
 327              		.loc 1 36 0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 24
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331 0000 70B5     		push	{r4, r5, r6, lr}
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 15


 332              	.LCFI4:
 333              		.cfi_def_cfa_offset 16
 334              		.cfi_offset 4, -16
 335              		.cfi_offset 5, -12
 336              		.cfi_offset 6, -8
 337              		.cfi_offset 14, -4
 338 0002 86B0     		sub	sp, sp, #24
 339              	.LCFI5:
 340              		.cfi_def_cfa_offset 40
 341              	.LVL26:
  40:../user/source/main.c ****     uint32_t dwLen = 0;
 342              		.loc 1 40 0
 343 0004 0023     		movs	r3, #0
 344 0006 0593     		str	r3, [sp, #20]
 345              	.LVL27:
  45:../user/source/main.c ****     /*集中器上电过程中485总线有乱码，此时不能识别波特率*/
 346              		.loc 1 45 0
 347 0008 FFF7FEFF 		bl	vGPIO_Init
 348              	.LVL28:
  47:../user/source/main.c ****     {
 349              		.loc 1 47 0
 350 000c 01E0     		b	.L26
 351              	.L27:
  49:../user/source/main.c ****     }
 352              		.loc 1 49 0
 353 000e FFF7FEFF 		bl	vFeedExtWatchDog
 354              	.LVL29:
 355              	.L26:
  47:../user/source/main.c ****     {
 356              		.loc 1 47 0
 357 0012 AC4A     		ldr	r2, .L51
 358 0014 1368     		ldr	r3, [r2]
 359 0016 591E     		subs	r1, r3, #1
 360 0018 1160     		str	r1, [r2]
 361 001a 002B     		cmp	r3, #0
 362 001c F7D1     		bne	.L27
  51:../user/source/main.c ****     vInterFlash_Init();
 363              		.loc 1 51 0
 364 001e 4FF4C060 		mov	r0, #1536
 365 0022 FFF7FEFF 		bl	NVIC_PriorityGroupConfig
 366              	.LVL30:
  52:../user/source/main.c ****     vFeedExtWatchDog();
 367              		.loc 1 52 0
 368 0026 FFF7FEFF 		bl	vInterFlash_Init
 369              	.LVL31:
  53:../user/source/main.c ****     vTimer_Init();
 370              		.loc 1 53 0
 371 002a FFF7FEFF 		bl	vFeedExtWatchDog
 372              	.LVL32:
  54:../user/source/main.c ****     vLed_Light();
 373              		.loc 1 54 0
 374 002e FFF7FEFF 		bl	vTimer_Init
 375              	.LVL33:
  55:../user/source/main.c ****     vSystickSetAccuracy(1000000); //SysTick = 1us
 376              		.loc 1 55 0
 377 0032 FFF7FEFF 		bl	vLed_Light
 378              	.LVL34:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 16


  56:../user/source/main.c ****     vSystickIntCmd(ENABLE);
 379              		.loc 1 56 0
 380 0036 A448     		ldr	r0, .L51+4
 381 0038 FFF7FEFF 		bl	vSystickSetAccuracy
 382              	.LVL35:
  57:../user/source/main.c ****     /*TICK使能后才能初始化外部中断*/
 383              		.loc 1 57 0
 384 003c 0120     		movs	r0, #1
 385 003e FFF7FEFF 		bl	vSystickIntCmd
 386              	.LVL36:
  59:../user/source/main.c ****     vUart_EnableBaudrate(pUartIR, 1200);
 387              		.loc 1 59 0
 388 0042 FFF7FEFF 		bl	vExti_Init
 389              	.LVL37:
  60:../user/source/main.c ****     /*电压修改的上下限值设为默认值；开启修改功能 */
 390              		.loc 1 60 0
 391 0046 4FF49661 		mov	r1, #1200
 392 004a A04B     		ldr	r3, .L51+8
 393 004c 1868     		ldr	r0, [r3]
 394 004e FFF7FEFF 		bl	vUart_EnableBaudrate
 395              	.LVL38:
  62:../user/source/main.c ****     /*电流重过载参数设置*/
 396              		.loc 1 62 0
 397 0052 FFF7FEFF 		bl	Voltage_Change_Init
 398              	.LVL39:
  64:../user/source/main.c ****     /*电量修改的上下限值设为默认值；开启修改功能 */
 399              		.loc 1 64 0
 400 0056 FFF7FEFF 		bl	vCurrent_Limit_DefaultSet
 401              	.LVL40:
  66:../user/source/main.c ****     while (1)
 402              		.loc 1 66 0
 403 005a FFF7FEFF 		bl	vEnergy_Modify_Init
 404              	.LVL41:
  38:../user/source/main.c ****     /*698帧APDU数据段指针*/
 405              		.loc 1 38 0
 406 005e 0224     		movs	r4, #2
 407              	.LVL42:
 408              	.L29:
  69:../user/source/main.c ****         /*红外串口收帧处理 */
 409              		.loc 1 69 0
 410 0060 FFF7FEFF 		bl	vFeedExtWatchDog
 411              	.LVL43:
  71:../user/source/main.c ****         {
 412              		.loc 1 71 0
 413 0064 994B     		ldr	r3, .L51+8
 414 0066 1B68     		ldr	r3, [r3]
 415 0068 5868     		ldr	r0, [r3, #4]
 416 006a FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 417              	.LVL44:
 418 006e D0B9     		cbnz	r0, .L30
  73:../user/source/main.c ****             {
 419              		.loc 1 73 0
 420 0070 964B     		ldr	r3, .L51+8
 421 0072 1B68     		ldr	r3, [r3]
 422 0074 9649     		ldr	r1, .L51+12
 423 0076 5868     		ldr	r0, [r3, #4]
 424 0078 FFF7FEFF 		bl	blRecvFrame
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 17


 425              	.LVL45:
 426 007c 98B1     		cbz	r0, .L30
  75:../user/source/main.c ****                 /*红外口回帧*/
 427              		.loc 1 75 0
 428 007e 9448     		ldr	r0, .L51+12
 429 0080 FFF7FEFF 		bl	vINFRDataID_Handle
 430              	.LVL46:
  77:../user/source/main.c ****                 {
 431              		.loc 1 77 0
 432 0084 914B     		ldr	r3, .L51+8
 433 0086 1B68     		ldr	r3, [r3]
 434 0088 9868     		ldr	r0, [r3, #8]
 435 008a FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 436              	.LVL47:
 437 008e 50B9     		cbnz	r0, .L30
  79:../user/source/main.c ****                     USART_ITConfig(USART2, USART_IT_TXE, ENABLE);
 438              		.loc 1 79 0
 439 0090 904D     		ldr	r5, .L51+16
 440 0092 0022     		movs	r2, #0
 441 0094 9049     		ldr	r1, .L51+20
 442 0096 2846     		mov	r0, r5
 443 0098 FFF7FEFF 		bl	USART_ITConfig
 444              	.LVL48:
  80:../user/source/main.c ****                 }
 445              		.loc 1 80 0
 446 009c 0122     		movs	r2, #1
 447 009e 8F49     		ldr	r1, .L51+24
 448 00a0 2846     		mov	r0, r5
 449 00a2 FFF7FEFF 		bl	USART_ITConfig
 450              	.LVL49:
 451              	.L30:
  85:../user/source/main.c ****         {
 452              		.loc 1 85 0
 453 00a6 012C     		cmp	r4, #1
 454 00a8 7DD0     		beq	.L31
 455 00aa 002C     		cmp	r4, #0
 456 00ac 00F04E81 		beq	.L32
 457 00b0 022C     		cmp	r4, #2
 458 00b2 D5D1     		bne	.L29
  89:../user/source/main.c ****             vLedRun(TICK_200MS);
 459              		.loc 1 89 0
 460 00b4 FFF7FEFF 		bl	vFeedExtWatchDog
 461              	.LVL50:
  90:../user/source/main.c ****             if (AutoBaud485.Uart_BaudRate == 0)
 462              		.loc 1 90 0
 463 00b8 894B     		ldr	r3, .L51+28
 464 00ba 1B68     		ldr	r3, [r3]
 465 00bc 8948     		ldr	r0, .L51+32
 466 00be A0FB0330 		umull	r3, r0, r0, r3
 467 00c2 8008     		lsrs	r0, r0, #2
 468 00c4 FFF7FEFF 		bl	vLedRun
 469              	.LVL51:
  91:../user/source/main.c ****             {
 470              		.loc 1 91 0
 471 00c8 874B     		ldr	r3, .L51+36
 472 00ca 9B68     		ldr	r3, [r3, #8]
 473 00cc 002B     		cmp	r3, #0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 18


 474 00ce 31D1     		bne	.L34
  93:../user/source/main.c ****                 {
 475              		.loc 1 93 0
 476 00d0 854B     		ldr	r3, .L51+36
 477 00d2 1B68     		ldr	r3, [r3]
 478 00d4 002B     		cmp	r3, #0
 479 00d6 C3D1     		bne	.L29
  99:../user/source/main.c ****                     AutoBaud485.Uart_BaudRate = uwFindBaudRate(AutoBaud485.uwBaudelay);
 480              		.loc 1 99 0
 481 00d8 FFF7FEFF 		bl	EXTI_DeInit
 482              	.LVL52:
 100:../user/source/main.c ****                     vSystickSetAccuracy(1000); //systick=1ms
 483              		.loc 1 100 0
 484 00dc 824E     		ldr	r6, .L51+36
 485 00de 7068     		ldr	r0, [r6, #4]
 486 00e0 FFF7FEFF 		bl	uwFindBaudRate
 487              	.LVL53:
 488 00e4 B060     		str	r0, [r6, #8]
 101:../user/source/main.c ****                     vSystickIntCmd(ENABLE);
 489              		.loc 1 101 0
 490 00e6 4FF47A70 		mov	r0, #1000
 491 00ea FFF7FEFF 		bl	vSystickSetAccuracy
 492              	.LVL54:
 102:../user/source/main.c ****                     vUart_EnableBaudrate(pUartZD, AutoBaud485.Uart_BaudRate); //使能接收中断
 493              		.loc 1 102 0
 494 00ee 0120     		movs	r0, #1
 495 00f0 FFF7FEFF 		bl	vSystickIntCmd
 496              	.LVL55:
 103:../user/source/main.c ****                     vUart_EnableBaudrate(pUartDB, AutoBaud485.Uart_BaudRate);
 497              		.loc 1 103 0
 498 00f4 B168     		ldr	r1, [r6, #8]
 499 00f6 7D4D     		ldr	r5, .L51+40
 500 00f8 2868     		ldr	r0, [r5]
 501 00fa FFF7FEFF 		bl	vUart_EnableBaudrate
 502              	.LVL56:
 104:../user/source/main.c ****                     /*接收后续字节并忽略*/
 503              		.loc 1 104 0
 504 00fe B168     		ldr	r1, [r6, #8]
 505 0100 7B4E     		ldr	r6, .L51+44
 506 0102 3068     		ldr	r0, [r6]
 507 0104 FFF7FEFF 		bl	vUart_EnableBaudrate
 508              	.LVL57:
 106:../user/source/main.c ****                     Uart_IdleRead(pUartZD, ucApp_Buf_ZD2DB, DRV_BUF_SIZE, TICK_500MS);
 509              		.loc 1 106 0
 510 0108 FFF7FEFF 		bl	vFeedExtWatchDog
 511              	.LVL58:
 107:../user/source/main.c ****                     vBuf_Clear(pUartZD->pRsvbuf);
 512              		.loc 1 107 0
 513 010c 744B     		ldr	r3, .L51+28
 514 010e 1B68     		ldr	r3, [r3]
 515 0110 5B08     		lsrs	r3, r3, #1
 516 0112 4FF47A72 		mov	r2, #1000
 517 0116 7749     		ldr	r1, .L51+48
 518 0118 2868     		ldr	r0, [r5]
 519 011a FFF7FEFF 		bl	Uart_IdleRead
 520              	.LVL59:
 108:../user/source/main.c ****                     Uart_idleReadEnable(pUartZD);
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 19


 521              		.loc 1 108 0
 522 011e 2B68     		ldr	r3, [r5]
 523 0120 5868     		ldr	r0, [r3, #4]
 524 0122 FFF7FEFF 		bl	vBuf_Clear
 525              	.LVL60:
 109:../user/source/main.c ****                     Uart_idleReadEnable(pUartDB);
 526              		.loc 1 109 0
 527 0126 2868     		ldr	r0, [r5]
 528 0128 FFF7FEFF 		bl	Uart_idleReadEnable
 529              	.LVL61:
 110:../user/source/main.c ****                 }
 530              		.loc 1 110 0
 531 012c 3068     		ldr	r0, [r6]
 532 012e FFF7FEFF 		bl	Uart_idleReadEnable
 533              	.LVL62:
 534 0132 95E7     		b	.L29
 535              	.L34:
 116:../user/source/main.c ****                 {
 536              		.loc 1 116 0
 537 0134 704B     		ldr	r3, .L51+52
 538 0136 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 539 0138 BBB1     		cbz	r3, .L36
 118:../user/source/main.c ****                     FLAG_UartZD_HasData = false;
 540              		.loc 1 118 0
 541 013a 6C4D     		ldr	r5, .L51+40
 542 013c 2868     		ldr	r0, [r5]
 543 013e FFF7FEFF 		bl	Uart_idleReadDisable
 544              	.LVL63:
 119:../user/source/main.c ****                     vFeedExtWatchDog();
 545              		.loc 1 119 0
 546 0142 0022     		movs	r2, #0
 547 0144 6C4B     		ldr	r3, .L51+52
 548 0146 1A70     		strb	r2, [r3]
 120:../user/source/main.c ****                     dwLen = dwUartCopy(pUartZD, ucApp_Buf_ZD2DB, pUartDB);
 549              		.loc 1 120 0
 550 0148 FFF7FEFF 		bl	vFeedExtWatchDog
 551              	.LVL64:
 121:../user/source/main.c ****                     ProtocolType = GetProtocolType(ucApp_Buf_ZD2DB, dwLen);
 552              		.loc 1 121 0
 553 014c 694C     		ldr	r4, .L51+48
 554              	.LVL65:
 555 014e 684B     		ldr	r3, .L51+44
 556 0150 1A68     		ldr	r2, [r3]
 557 0152 2146     		mov	r1, r4
 558 0154 2868     		ldr	r0, [r5]
 559 0156 FFF7FEFF 		bl	dwUartCopy
 560              	.LVL66:
 122:../user/source/main.c ****                     Uart_idleReadEnable(pUartZD);
 561              		.loc 1 122 0
 562 015a 0146     		mov	r1, r0
 563 015c 2046     		mov	r0, r4
 564              	.LVL67:
 565 015e FFF7FEFF 		bl	GetProtocolType
 566              	.LVL68:
 567 0162 0446     		mov	r4, r0
 568              	.LVL69:
 123:../user/source/main.c ****                 }
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 20


 569              		.loc 1 123 0
 570 0164 2868     		ldr	r0, [r5]
 571 0166 FFF7FEFF 		bl	Uart_idleReadEnable
 572              	.LVL70:
 573              	.L36:
 125:../user/source/main.c ****                 {
 574              		.loc 1 125 0
 575 016a 644B     		ldr	r3, .L51+56
 576 016c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 577 016e 002B     		cmp	r3, #0
 578 0170 3FF476AF 		beq	.L29
 127:../user/source/main.c ****                     FLAG_UartDB_HasData = false;
 579              		.loc 1 127 0
 580 0174 5E4D     		ldr	r5, .L51+44
 581 0176 2868     		ldr	r0, [r5]
 582 0178 FFF7FEFF 		bl	Uart_idleReadDisable
 583              	.LVL71:
 128:../user/source/main.c ****                     vFeedExtWatchDog();
 584              		.loc 1 128 0
 585 017c 0022     		movs	r2, #0
 586 017e 5F4B     		ldr	r3, .L51+56
 587 0180 1A70     		strb	r2, [r3]
 129:../user/source/main.c ****                     dwLen = dwUartCopy(pUartDB, ucApp_Buf_DB2ZD, pUartZD);
 588              		.loc 1 129 0
 589 0182 FFF7FEFF 		bl	vFeedExtWatchDog
 590              	.LVL72:
 130:../user/source/main.c ****                     ProtocolType = GetProtocolType(ucApp_Buf_DB2ZD, dwLen); //校验错误也过？
 591              		.loc 1 130 0
 592 0186 5E4C     		ldr	r4, .L51+60
 593              	.LVL73:
 594 0188 584B     		ldr	r3, .L51+40
 595 018a 1A68     		ldr	r2, [r3]
 596 018c 2146     		mov	r1, r4
 597 018e 2868     		ldr	r0, [r5]
 598 0190 FFF7FEFF 		bl	dwUartCopy
 599              	.LVL74:
 131:../user/source/main.c ****                     Uart_idleReadEnable(pUartDB);
 600              		.loc 1 131 0
 601 0194 0146     		mov	r1, r0
 602 0196 2046     		mov	r0, r4
 603              	.LVL75:
 604 0198 FFF7FEFF 		bl	GetProtocolType
 605              	.LVL76:
 606 019c 0446     		mov	r4, r0
 607              	.LVL77:
 132:../user/source/main.c ****                 }
 608              		.loc 1 132 0
 609 019e 2868     		ldr	r0, [r5]
 610 01a0 FFF7FEFF 		bl	Uart_idleReadEnable
 611              	.LVL78:
 612 01a4 5CE7     		b	.L29
 613              	.L31:
 139:../user/source/main.c ****             vLedRun(TICK_1S);
 614              		.loc 1 139 0
 615 01a6 FFF7FEFF 		bl	vFeedExtWatchDog
 616              	.LVL79:
 140:../user/source/main.c ****             Uart_idleReadEnable(pUartZD);
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 21


 617              		.loc 1 140 0
 618 01aa 4D4B     		ldr	r3, .L51+28
 619 01ac 1868     		ldr	r0, [r3]
 620 01ae FFF7FEFF 		bl	vLedRun
 621              	.LVL80:
 141:../user/source/main.c ****             Uart_idleReadEnable(pUartDB);
 622              		.loc 1 141 0
 623 01b2 4E4B     		ldr	r3, .L51+40
 624 01b4 1868     		ldr	r0, [r3]
 625 01b6 FFF7FEFF 		bl	Uart_idleReadEnable
 626              	.LVL81:
 142:../user/source/main.c ****             if (FLAG_UartZD_HasData)
 627              		.loc 1 142 0
 628 01ba 4D4B     		ldr	r3, .L51+44
 629 01bc 1868     		ldr	r0, [r3]
 630 01be FFF7FEFF 		bl	Uart_idleReadEnable
 631              	.LVL82:
 143:../user/source/main.c ****             {
 632              		.loc 1 143 0
 633 01c2 4D4B     		ldr	r3, .L51+52
 634 01c4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 635 01c6 93B1     		cbz	r3, .L37
 145:../user/source/main.c ****                 FLAG_UartZD_HasData = false;
 636              		.loc 1 145 0
 637 01c8 484D     		ldr	r5, .L51+40
 638 01ca 2868     		ldr	r0, [r5]
 639 01cc FFF7FEFF 		bl	Uart_idleReadDisable
 640              	.LVL83:
 146:../user/source/main.c ****                 vFeedExtWatchDog();
 641              		.loc 1 146 0
 642 01d0 0022     		movs	r2, #0
 643 01d2 494B     		ldr	r3, .L51+52
 644 01d4 1A70     		strb	r2, [r3]
 147:../user/source/main.c ****                 dwLen = dwUartCopy(pUartZD, ucApp_Buf_ZD2DB, pUartDB);
 645              		.loc 1 147 0
 646 01d6 FFF7FEFF 		bl	vFeedExtWatchDog
 647              	.LVL84:
 148:../user/source/main.c ****                 Uart_idleReadEnable(pUartZD);
 648              		.loc 1 148 0
 649 01da 454B     		ldr	r3, .L51+44
 650 01dc 1A68     		ldr	r2, [r3]
 651 01de 4549     		ldr	r1, .L51+48
 652 01e0 2868     		ldr	r0, [r5]
 653 01e2 FFF7FEFF 		bl	dwUartCopy
 654              	.LVL85:
 149:../user/source/main.c ****                 break;
 655              		.loc 1 149 0
 656 01e6 2868     		ldr	r0, [r5]
 657 01e8 FFF7FEFF 		bl	Uart_idleReadEnable
 658              	.LVL86:
 150:../user/source/main.c ****             }
 659              		.loc 1 150 0
 660 01ec 38E7     		b	.L29
 661              	.L37:
 152:../user/source/main.c ****             {
 662              		.loc 1 152 0
 663 01ee 434B     		ldr	r3, .L51+56
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 22


 664 01f0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 665 01f2 002B     		cmp	r3, #0
 666 01f4 00F0A580 		beq	.L38
 154:../user/source/main.c ****                 Uart_idleReadDisable(pUartDB);
 667              		.loc 1 154 0
 668 01f8 FFF7FEFF 		bl	vFeedExtWatchDog
 669              	.LVL87:
 155:../user/source/main.c ****                 FLAG_UartDB_HasData = false;
 670              		.loc 1 155 0
 671 01fc 3C4D     		ldr	r5, .L51+44
 672 01fe 2868     		ldr	r0, [r5]
 673 0200 FFF7FEFF 		bl	Uart_idleReadDisable
 674              	.LVL88:
 156:../user/source/main.c ****                 dlt698Frame.pStart = NULL;
 675              		.loc 1 156 0
 676 0204 0023     		movs	r3, #0
 677 0206 3D4A     		ldr	r2, .L51+56
 678 0208 1370     		strb	r3, [r2]
 157:../user/source/main.c **** 
 679              		.loc 1 157 0
 680 020a 0193     		str	r3, [sp, #4]
 160:../user/source/main.c ****                     break;
 681              		.loc 1 160 0
 682 020c 4FF47A72 		mov	r2, #1000
 683 0210 3B49     		ldr	r1, .L51+60
 684 0212 2868     		ldr	r0, [r5]
 685 0214 FFF7FEFF 		bl	Uart_Read
 686              	.LVL89:
 687 0218 0546     		mov	r5, r0
 688 021a 0028     		cmp	r0, #0
 689 021c 3FF420AF 		beq	.L29
 162:../user/source/main.c ****                     (Voltage_Change_State == Voltage_NOChange &&
 690              		.loc 1 162 0
 691 0220 01AA     		add	r2, sp, #4
 692 0222 0146     		mov	r1, r0
 693 0224 3648     		ldr	r0, .L51+60
 694              	.LVL90:
 695 0226 FFF7FEFF 		bl	pGetpFrame
 696              	.LVL91:
 697 022a 28B1     		cbz	r0, .L39
 163:../user/source/main.c ****                      Dayfrozen_Change_State == DAYFROZEN_NOCHANGE))
 698              		.loc 1 163 0 discriminator 1
 699 022c 354B     		ldr	r3, .L51+64
 700 022e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 162:../user/source/main.c ****                     (Voltage_Change_State == Voltage_NOChange &&
 701              		.loc 1 162 0 discriminator 1
 702 0230 ABB9     		cbnz	r3, .L40
 164:../user/source/main.c ****                 {
 703              		.loc 1 164 0
 704 0232 354B     		ldr	r3, .L51+68
 705 0234 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 163:../user/source/main.c ****                      Dayfrozen_Change_State == DAYFROZEN_NOCHANGE))
 706              		.loc 1 163 0
 707 0236 93B9     		cbnz	r3, .L40
 708              	.L39:
 166:../user/source/main.c ****                     Uart_OnceWrite(pUartZD, ucApp_Buf_DB2ZD, dwLen, 1000 * TICK_1MS);
 709              		.loc 1 166 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 23


 710 0238 FFF7FEFF 		bl	vFeedExtWatchDog
 711              	.LVL92:
 167:../user/source/main.c ****                 }
 712              		.loc 1 167 0
 713 023c 284B     		ldr	r3, .L51+28
 714 023e 1B68     		ldr	r3, [r3]
 715 0240 324A     		ldr	r2, .L51+72
 716 0242 A2FB0323 		umull	r2, r3, r2, r3
 717 0246 9B09     		lsrs	r3, r3, #6
 718 0248 4FF47A72 		mov	r2, #1000
 719 024c 02FB03F3 		mul	r3, r2, r3
 720 0250 2A46     		mov	r2, r5
 721 0252 2B49     		ldr	r1, .L51+60
 722 0254 2548     		ldr	r0, .L51+40
 723 0256 0068     		ldr	r0, [r0]
 724 0258 FFF7FEFF 		bl	Uart_OnceWrite
 725              	.LVL93:
 726 025c 71E0     		b	.L38
 727              	.L40:
 171:../user/source/main.c ****                     {
 728              		.loc 1 171 0
 729 025e 05A9     		add	r1, sp, #20
 730 0260 01A8     		add	r0, sp, #4
 731 0262 FFF7FEFF 		bl	dwGet698Apdu
 732              	.LVL94:
 733 0266 0146     		mov	r1, r0
 734 0268 0028     		cmp	r0, #0
 735 026a 5DD0     		beq	.L41
 174:../user/source/main.c ****                         {
 736              		.loc 1 174 0
 737 026c 284A     		ldr	r2, .L51+76
 738 026e 0598     		ldr	r0, [sp, #20]
 739              	.LVL95:
 740 0270 FFF7FEFF 		bl	dwAPduAnalyze
 741              	.LVL96:
 742 0274 0028     		cmp	r0, #0
 743 0276 4FDC     		bgt	.L49
 744 0278 56E0     		b	.L41
 745              	.LVL97:
 746              	.L45:
 178:../user/source/main.c ****                                 {
 747              		.loc 1 178 0
 748 027a 05EB4502 		add	r2, r5, r5, lsl #1
 749 027e 9300     		lsls	r3, r2, #2
 750 0280 234A     		ldr	r2, .L51+76
 751 0282 1344     		add	r3, r3, r2
 752 0284 1B89     		ldrh	r3, [r3, #8]
 753 0286 B3F5005F 		cmp	r3, #8192
 754 028a 07D1     		bne	.L43
 180:../user/source/main.c ****                                 }
 755              		.loc 1 180 0
 756 028c 05EB4503 		add	r3, r5, r5, lsl #1
 757 0290 9800     		lsls	r0, r3, #2
 758 0292 0830     		adds	r0, r0, #8
 759 0294 1044     		add	r0, r0, r2
 760 0296 FFF7FEFF 		bl	v698VoltageModify
 761              	.LVL98:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 24


 762 029a 10E0     		b	.L44
 763              	.L43:
 182:../user/source/main.c ****                                          stCollData.stMainOAD.OI_date == OI_DAY_FRZ &&         /*日
 764              		.loc 1 182 0
 765 029c 102B     		cmp	r3, #16
 766 029e 0ED1     		bne	.L44
 183:../user/source/main.c ****                                          stCollData.eDataCls == D_CLASS_DAY_FREEZE)
 767              		.loc 1 183 0
 768 02a0 1B4B     		ldr	r3, .L51+76
 769 02a2 1B68     		ldr	r3, [r3]
 770 02a4 23F47F43 		bic	r3, r3, #65280
 771 02a8 1A4A     		ldr	r2, .L51+80
 772 02aa 9342     		cmp	r3, r2
 773 02ac 07D1     		bne	.L44
 774              	.LBB2:
 186:../user/source/main.c ****                                 }
 775              		.loc 1 186 0
 776 02ae 05EB4502 		add	r2, r5, r5, lsl #1
 777 02b2 9300     		lsls	r3, r2, #2
 778 02b4 0833     		adds	r3, r3, #8
 779 02b6 1648     		ldr	r0, .L51+76
 780 02b8 1844     		add	r0, r0, r3
 781 02ba FFF7FEFF 		bl	v698EnergyModify
 782              	.LVL99:
 783              	.L44:
 784              	.LBE2:
 176:../user/source/main.c ****                             {
 785              		.loc 1 176 0 discriminator 2
 786 02be 0135     		adds	r5, r5, #1
 787              	.LVL100:
 788 02c0 2BE0     		b	.L42
 789              	.L52:
 790 02c2 00BF     		.align	2
 791              	.L51:
 792 02c4 00000000 		.word	.LANCHOR1
 793 02c8 40420F00 		.word	1000000
 794 02cc 00000000 		.word	pUartIR
 795 02d0 00000000 		.word	ucApp_Buf_INFR
 796 02d4 00440040 		.word	1073759232
 797 02d8 05010500 		.word	327941
 798 02dc 07010700 		.word	459015
 799 02e0 00000000 		.word	gSystickAccuracy
 800 02e4 CDCCCCCC 		.word	-858993459
 801 02e8 00000000 		.word	.LANCHOR2
 802 02ec 00000000 		.word	pUartZD
 803 02f0 00000000 		.word	pUartDB
 804 02f4 00000000 		.word	ucApp_Buf_ZD2DB
 805 02f8 00000000 		.word	.LANCHOR3
 806 02fc 00000000 		.word	.LANCHOR4
 807 0300 00000000 		.word	ucApp_Buf_DB2ZD
 808 0304 00000000 		.word	Voltage_Change_State
 809 0308 00000000 		.word	Dayfrozen_Change_State
 810 030c D34D6210 		.word	274877907
 811 0310 00000000 		.word	stCollData
 812 0314 03000450 		.word	1342439427
 813              	.LVL101:
 814              	.L49:
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 25


 815 0318 0025     		movs	r5, #0
 816              	.L42:
 817              	.LVL102:
 176:../user/source/main.c ****                             {
 818              		.loc 1 176 0 is_stmt 0 discriminator 1
 819 031a 3F4B     		ldr	r3, .L53
 820 031c 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 821 031e 9D42     		cmp	r5, r3
 822 0320 ABD3     		bcc	.L45
 189:../user/source/main.c ****                         }
 823              		.loc 1 189 0 is_stmt 1
 824 0322 01A8     		add	r0, sp, #4
 825 0324 FFF7FEFF 		bl	dwReCalculateFCS
 826              	.LVL103:
 827              	.L41:
 192:../user/source/main.c ****                     Uart_OnceWrite(pUartZD, dlt698Frame.pStart, dlt698Frame.uwFramelen + 2, TICK_50
 828              		.loc 1 192 0
 829 0328 FFF7FEFF 		bl	vFeedExtWatchDog
 830              	.LVL104:
 193:../user/source/main.c ****                 }
 831              		.loc 1 193 0
 832 032c BDF81020 		ldrh	r2, [sp, #16]
 833 0330 3A4B     		ldr	r3, .L53+4
 834 0332 1B68     		ldr	r3, [r3]
 835 0334 5B08     		lsrs	r3, r3, #1
 836 0336 0232     		adds	r2, r2, #2
 837 0338 0199     		ldr	r1, [sp, #4]
 838 033a 3948     		ldr	r0, .L53+8
 839 033c 0068     		ldr	r0, [r0]
 840 033e FFF7FEFF 		bl	Uart_OnceWrite
 841              	.LVL105:
 842              	.L38:
 196:../user/source/main.c ****             break;
 843              		.loc 1 196 0
 844 0342 384B     		ldr	r3, .L53+12
 845 0344 1868     		ldr	r0, [r3]
 846 0346 FFF7FEFF 		bl	Uart_idleReadEnable
 847              	.LVL106:
 197:../user/source/main.c ****         }
 848              		.loc 1 197 0
 849 034a 89E6     		b	.L29
 850              	.L32:
 201:../user/source/main.c ****             /*串口无收发时喂狗间隔为1ms左右*/
 851              		.loc 1 201 0
 852 034c 334B     		ldr	r3, .L53+4
 853 034e 1868     		ldr	r0, [r3]
 854 0350 FFF7FEFF 		bl	vLedRun
 855              	.LVL107:
 203:../user/source/main.c ****             /*集中器侧数据帧收帧处理*/
 856              		.loc 1 203 0
 857 0354 FFF7FEFF 		bl	vFeedExtWatchDog
 858              	.LVL108:
 205:../user/source/main.c ****             {
 859              		.loc 1 205 0
 860 0358 314B     		ldr	r3, .L53+8
 861 035a 1B68     		ldr	r3, [r3]
 862 035c 5868     		ldr	r0, [r3, #4]
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 26


 863 035e FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 864              	.LVL109:
 865 0362 10B9     		cbnz	r0, .L46
 207:../user/source/main.c ****             }
 866              		.loc 1 207 0
 867 0364 3048     		ldr	r0, .L53+16
 868 0366 FFF7FEFF 		bl	RsvFrameHandle
 869              	.LVL110:
 870              	.L46:
 211:../user/source/main.c ****             {
 871              		.loc 1 211 0
 872 036a 2E4B     		ldr	r3, .L53+12
 873 036c 1B68     		ldr	r3, [r3]
 874 036e 5868     		ldr	r0, [r3, #4]
 875 0370 FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 876              	.LVL111:
 877 0374 10B1     		cbz	r0, .L47
 213:../user/source/main.c ****             }
 878              		.loc 1 213 0
 879 0376 FFF7FEFF 		bl	VoltageTimeOutHandle
 880              	.LVL112:
 881 037a 71E6     		b	.L29
 882              	.L47:
 219:../user/source/main.c ****                 {
 883              		.loc 1 219 0
 884 037c 294B     		ldr	r3, .L53+12
 885 037e 1B68     		ldr	r3, [r3]
 886 0380 2A49     		ldr	r1, .L53+20
 887 0382 5868     		ldr	r0, [r3, #4]
 888 0384 FFF7FEFF 		bl	blRecvFrame
 889              	.LVL113:
 890 0388 0028     		cmp	r0, #0
 891 038a 2CD1     		bne	.L48
 222:../user/source/main.c ****                         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 892              		.loc 1 222 0
 893 038c 284B     		ldr	r3, .L53+24
 894 038e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 895 0390 002B     		cmp	r3, #0
 896 0392 7FF465AE 		bne	.L29
 223:../user/source/main.c ****                     {
 897              		.loc 1 223 0 discriminator 1
 898 0396 1921     		movs	r1, #25
 899 0398 264B     		ldr	r3, .L53+28
 900 039a 1888     		ldrh	r0, [r3]
 901 039c FFF7FEFF 		bl	blTime2_Update
 902              	.LVL114:
 222:../user/source/main.c ****                         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 903              		.loc 1 222 0 discriminator 1
 904 03a0 0028     		cmp	r0, #0
 905 03a2 3FF45DAE 		beq	.L29
 226:../user/source/main.c ****                         {
 906              		.loc 1 226 0
 907 03a6 2048     		ldr	r0, .L53+16
 908 03a8 FFF7FEFF 		bl	blVoltage_Create
 909              	.LVL115:
 910 03ac 0028     		cmp	r0, #0
 911 03ae 3FF457AE 		beq	.L29
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 27


 228:../user/source/main.c ****                             /*发送电压帧*/
 912              		.loc 1 228 0
 913 03b2 1B4D     		ldr	r5, .L53+8
 914 03b4 2B68     		ldr	r3, [r5]
 915 03b6 1C48     		ldr	r0, .L53+16
 916 03b8 427A     		ldrb	r2, [r0, #9]	@ zero_extendqisi2
 917 03ba 9968     		ldr	r1, [r3, #8]
 918 03bc FFF7FEFF 		bl	ucDrv_Buf_PutBytes
 919              	.LVL116:
 230:../user/source/main.c ****                             {
 920              		.loc 1 230 0
 921 03c0 2B68     		ldr	r3, [r5]
 922 03c2 9868     		ldr	r0, [r3, #8]
 923 03c4 FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 924              	.LVL117:
 925 03c8 0028     		cmp	r0, #0
 926 03ca 7FF449AE 		bne	.L29
 232:../user/source/main.c ****                                 /*等待电压回帧状态清位*/
 927              		.loc 1 232 0
 928 03ce 1A48     		ldr	r0, .L53+32
 929 03d0 FFF7FEFF 		bl	Uart_DataPut
 930              	.LVL118:
 234:../user/source/main.c ****                                 /*计时器复位*/
 931              		.loc 1 234 0
 932 03d4 0122     		movs	r2, #1
 933 03d6 164B     		ldr	r3, .L53+24
 934 03d8 1A70     		strb	r2, [r3]
 236:../user/source/main.c ****                                 uwTime2FramesCounter = 0;
 935              		.loc 1 236 0
 936 03da 0023     		movs	r3, #0
 937 03dc 174A     		ldr	r2, .L53+36
 938 03de 1370     		strb	r3, [r2]
 237:../user/source/main.c ****                             }
 939              		.loc 1 237 0
 940 03e0 144A     		ldr	r2, .L53+28
 941 03e2 1380     		strh	r3, [r2]	@ movhi
 942 03e4 3CE6     		b	.L29
 943              	.L48:
 245:../user/source/main.c ****                     ucDrv_Buf_PutBytes(ucApp_Buf_DB2ZD, pUartZD->pSndbuf, uc645DataDomainLength + 1
 944              		.loc 1 245 0
 945 03e6 114E     		ldr	r6, .L53+20
 946 03e8 3046     		mov	r0, r6
 947 03ea FFF7FEFF 		bl	vDBDataID_Handle
 948              	.LVL119:
 246:../user/source/main.c ****                     if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 949              		.loc 1 246 0
 950 03ee 0C4D     		ldr	r5, .L53+8
 951 03f0 2B68     		ldr	r3, [r5]
 952 03f2 134A     		ldr	r2, .L53+40
 953 03f4 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 954 03f6 0C32     		adds	r2, r2, #12
 955 03f8 9968     		ldr	r1, [r3, #8]
 956 03fa 3046     		mov	r0, r6
 957 03fc FFF7FEFF 		bl	ucDrv_Buf_PutBytes
 958              	.LVL120:
 247:../user/source/main.c ****                     {
 959              		.loc 1 247 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 28


 960 0400 2B68     		ldr	r3, [r5]
 961 0402 9868     		ldr	r0, [r3, #8]
 962 0404 FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 963              	.LVL121:
 964 0408 0028     		cmp	r0, #0
 965 040a 7FF429AE 		bne	.L29
 249:../user/source/main.c ****                     }
 966              		.loc 1 249 0
 967 040e 2B68     		ldr	r3, [r5]
 968 0410 1868     		ldr	r0, [r3]
 969 0412 FFF7FEFF 		bl	Uart_DataPut
 970              	.LVL122:
 971 0416 23E6     		b	.L29
 972              	.L54:
 973              		.align	2
 974              	.L53:
 975 0418 00000000 		.word	stCollData
 976 041c 00000000 		.word	gSystickAccuracy
 977 0420 00000000 		.word	pUartZD
 978 0424 00000000 		.word	pUartDB
 979 0428 00000000 		.word	ucApp_Buf_ZD2DB
 980 042c 00000000 		.word	ucApp_Buf_DB2ZD
 981 0430 00000000 		.word	Voltage_Frame_Status
 982 0434 00000000 		.word	uwTime2FramesCounter
 983 0438 00380140 		.word	1073821696
 984 043c 00000000 		.word	blFramesCounterStatus
 985 0440 00000000 		.word	uc645DataDomainLength
 986              		.cfi_endproc
 987              	.LFE111:
 989              		.section	.text.vUartZD_BaudelayCal,"ax",%progbits
 990              		.align	2
 991              		.global	vUartZD_BaudelayCal
 992              		.thumb
 993              		.thumb_func
 995              	vUartZD_BaudelayCal:
 996              	.LFB115:
 353:../user/source/main.c **** 
 997              		.loc 1 353 0
 998              		.cfi_startproc
 999              		@ args = 0, pretend = 0, frame = 0
 1000              		@ frame_needed = 0, uses_anonymous_args = 0
 1001              		@ link register save eliminated.
 1002              	.LVL123:
 358:../user/source/main.c ****     /*取当前tick数，0~0xFFFF循环*/
 1003              		.loc 1 358 0
 1004 0000 0C4A     		ldr	r2, .L58
 1005 0002 1368     		ldr	r3, [r2]
 1006 0004 013B     		subs	r3, r3, #1
 1007 0006 1360     		str	r3, [r2]
 360:../user/source/main.c ****     /*初次收到串口数据，系统tick最大65535*/
 1008              		.loc 1 360 0
 1009 0008 0B4B     		ldr	r3, .L58+4
 1010 000a 1A68     		ldr	r2, [r3]
 1011              	.LVL124:
 362:../user/source/main.c ****     {
 1012              		.loc 1 362 0
 1013 000c 0B4B     		ldr	r3, .L58+8
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 29


 1014 000e 1B68     		ldr	r3, [r3]
 1015 0010 B3F1FF3F 		cmp	r3, #-1
 1016 0014 0BD0     		beq	.L56
 365:../user/source/main.c ****         /*当前tick数存为count*/
 1017              		.loc 1 365 0
 1018 0016 D31A     		subs	r3, r2, r3
 1019 0018 03F57F43 		add	r3, r3, #65280
 1020 001c FF33     		adds	r3, r3, #255
 1021 001e 9BB2     		uxth	r3, r3
 1022              	.LVL125:
 367:../user/source/main.c ****         /*与上次delay比较，取较小值存为delay*/
 1023              		.loc 1 367 0
 1024 0020 0649     		ldr	r1, .L58+8
 1025 0022 0A60     		str	r2, [r1]
 369:../user/source/main.c ****         {
 1026              		.loc 1 369 0
 1027 0024 0268     		ldr	r2, [r0]
 1028              	.LVL126:
 1029 0026 9342     		cmp	r3, r2
 1030 0028 03D2     		bcs	.L55
 371:../user/source/main.c ****         }
 1031              		.loc 1 371 0
 1032 002a 0360     		str	r3, [r0]
 1033              	.LVL127:
 1034 002c 7047     		bx	lr
 1035              	.LVL128:
 1036              	.L56:
 378:../user/source/main.c ****     }
 1037              		.loc 1 378 0
 1038 002e 034B     		ldr	r3, .L58+8
 1039 0030 1A60     		str	r2, [r3]
 1040              	.LVL129:
 1041              	.L55:
 1042 0032 7047     		bx	lr
 1043              	.L59:
 1044              		.align	2
 1045              	.L58:
 1046 0034 00000000 		.word	.LANCHOR2
 1047 0038 00000000 		.word	TICKS
 1048 003c 00000000 		.word	.LANCHOR5
 1049              		.cfi_endproc
 1050              	.LFE115:
 1052              		.global	uwBootDelay
 1053              		.global	AutoBaud485
 1054              		.global	FLAG_UartDB_HasData
 1055              		.global	FLAG_UartZD_HasData
 1056              		.comm	stCollData,1532,4
 1057              		.comm	gSystickAccuracy,4,4
 1058              		.section	.data.AutoBaud485,"aw",%progbits
 1059              		.align	2
 1060              		.set	.LANCHOR2,. + 0
 1063              	AutoBaud485:
 1064 0000 64000000 		.word	100
 1065 0004 FFFFFFFF 		.word	-1
 1066 0008 00000000 		.word	0
 1067              		.section	.bss.FLAG_UartDB_HasData,"aw",%nobits
 1068              		.set	.LANCHOR4,. + 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 30


 1071              	FLAG_UartDB_HasData:
 1072 0000 00       		.space	1
 1073              		.section	.bss.last_tick.7495,"aw",%nobits
 1074              		.align	2
 1075              		.set	.LANCHOR0,. + 0
 1078              	last_tick.7495:
 1079 0000 00000000 		.space	4
 1080              		.section	.data.uwBootDelay,"aw",%progbits
 1081              		.align	2
 1082              		.set	.LANCHOR1,. + 0
 1085              	uwBootDelay:
 1086 0000 80841E00 		.word	2000000
 1087              		.section	.bss.FLAG_UartZD_HasData,"aw",%nobits
 1088              		.set	.LANCHOR3,. + 0
 1091              	FLAG_UartZD_HasData:
 1092 0000 00       		.space	1
 1093              		.section	.data.LAST_TICK.7483,"aw",%progbits
 1094              		.align	2
 1095              		.set	.LANCHOR5,. + 0
 1098              	LAST_TICK.7483:
 1099 0000 FFFFFFFF 		.word	-1
 1100              		.text
 1101              	.Letext0:
 1102              		.file 2 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\machine\\_defaul
 1103              		.file 3 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\sys\\_stdint.h"
 1104              		.file 4 "../cmsis/include/stm32f37x.h"
 1105              		.file 5 "../stdperiph/include/stm32f37x_gpio.h"
 1106              		.file 6 "../user/include/BaseDef.h"
 1107              		.file 7 "../user/include/main.h"
 1108              		.file 8 "../user/include/Uart.h"
 1109              		.file 9 "../user/include/DLT645.h"
 1110              		.file 10 "../user/include/DLT698_45.h"
 1111              		.file 11 "../user/include/DLT698.h"
 1112              		.file 12 "../user/include/protocol.h"
 1113              		.file 13 "../cmsis/include/core_cm4.h"
 1114              		.file 14 "../user/include/Time.h"
 1115              		.file 15 "../user/include/GPIO.h"
 1116              		.file 16 "../stdperiph/include/stm32f37x_misc.h"
 1117              		.file 17 "../user/include/Flash.h"
 1118              		.file 18 "../stdperiph/include/stm32f37x_usart.h"
 1119              		.file 19 "../stdperiph/include/stm32f37x_exti.h"
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:22     .text.uwFindBaudRate:00000000 $t
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:26     .text.uwFindBaudRate:00000000 uwFindBaudRate
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:83     .text.RsvFrameHandle:00000000 $t
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:87     .text.RsvFrameHandle:00000000 RsvFrameHandle
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:166    .text.RsvFrameHandle:0000005c $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:175    .text.VoltageTimeOutHandle:00000000 $t
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:179    .text.VoltageTimeOutHandle:00000000 VoltageTimeOutHandle
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:250    .text.VoltageTimeOutHandle:00000054 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:259    .text.vLedRun:00000000 $t
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:263    .text.vLedRun:00000000 vLedRun
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:313    .text.vLedRun:00000040 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:320    .text.main:00000000 $t
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:325    .text.main:00000000 main
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:792    .text.main:000002c4 $d
                            *COM*:00000004 gSystickAccuracy
                            *COM*:000005fc stCollData
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:815    .text.main:00000318 $t
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:975    .text.main:00000418 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:990    .text.vUartZD_BaudelayCal:00000000 $t
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:995    .text.vUartZD_BaudelayCal:00000000 vUartZD_BaudelayCal
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1046   .text.vUartZD_BaudelayCal:00000034 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1085   .data.uwBootDelay:00000000 uwBootDelay
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1063   .data.AutoBaud485:00000000 AutoBaud485
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1071   .bss.FLAG_UartDB_HasData:00000000 FLAG_UartDB_HasData
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1091   .bss.FLAG_UartZD_HasData:00000000 FLAG_UartZD_HasData
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1059   .data.AutoBaud485:00000000 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1072   .bss.FLAG_UartDB_HasData:00000000 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1074   .bss.last_tick.7495:00000000 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1078   .bss.last_tick.7495:00000000 last_tick.7495
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1081   .data.uwBootDelay:00000000 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1092   .bss.FLAG_UartZD_HasData:00000000 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1094   .data.LAST_TICK.7483:00000000 $d
C:\Users\strag\AppData\Local\Temp\cckZQGaL.s:1098   .data.LAST_TICK.7483:00000000 LAST_TICK.7483
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
blRecvFrame
ucDrv_Buf_PutBytes
blDrv_Buf_IsEmpty
Uart_DataPut
pUartZD
Voltage_Frame_Status
blFramesCounterStatus
pUartDB
uc645DataDomainLength
blTime2_Update
blVoltage_Create
uwTime2FramesCounter
ucApp_Buf_ZD2DB
GPIO_ReadOutputDataBit
GPIO_WriteBit
TICKS
vGPIO_Init
vFeedExtWatchDog
NVIC_PriorityGroupConfig
ARM GAS  C:\Users\strag\AppData\Local\Temp\cckZQGaL.s 			page 32


vInterFlash_Init
vTimer_Init
vLed_Light
vSystickSetAccuracy
vSystickIntCmd
vExti_Init
vUart_EnableBaudrate
Voltage_Change_Init
vCurrent_Limit_DefaultSet
vEnergy_Modify_Init
vINFRDataID_Handle
USART_ITConfig
EXTI_DeInit
Uart_IdleRead
vBuf_Clear
Uart_idleReadEnable
Uart_idleReadDisable
dwUartCopy
GetProtocolType
Uart_Read
pGetpFrame
Uart_OnceWrite
dwGet698Apdu
dwAPduAnalyze
v698VoltageModify
v698EnergyModify
pUartIR
ucApp_Buf_INFR
ucApp_Buf_DB2ZD
Voltage_Change_State
Dayfrozen_Change_State
dwReCalculateFCS
vDBDataID_Handle
