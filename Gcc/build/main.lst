ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"main.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.RsvFrameHandle,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	RsvFrameHandle:
  27              	.LFB112:
  28              		.file 1 "../user/source/main.c"
   1:../user/source/main.c **** #include "main.h"
   2:../user/source/main.c **** #include "GPIO.h"
   3:../user/source/main.c **** #include "Uart.h"
   4:../user/source/main.c **** #include "DLT645.h"
   5:../user/source/main.c **** #include "Flash.h"
   6:../user/source/main.c **** #include "Time.h"
   7:../user/source/main.c **** #include "protocol.h"
   8:../user/source/main.c **** #include "DLT698.h"
   9:../user/source/main.c **** #include "DLT698_45.h"
  10:../user/source/main.c **** 
  11:../user/source/main.c **** uint32_t gSystickAccuracy; //1ÃëÄÚµÄSysTickÊý
  12:../user/source/main.c **** 
  13:../user/source/main.c **** /*698Êý¾Ý´æ´¢µ¥Ôª*/
  14:../user/source/main.c **** COLL_STORE_DATA stCollData;
  15:../user/source/main.c **** /*´®¿ÚÊÕÖ¡±êÖ¾*/
  16:../user/source/main.c **** bool FLAG_UartZD_HasData = false;
  17:../user/source/main.c **** bool FLAG_UartDB_HasData = false;
  18:../user/source/main.c **** volatile uint32_t irqCount = 100;
  19:../user/source/main.c **** volatile uint32_t uwBaudelay;
  20:../user/source/main.c **** 
  21:../user/source/main.c **** static void vLedRun(uint32_t delay);
  22:../user/source/main.c **** static void VoltageTimeOutHandle(void);
  23:../user/source/main.c **** static void RsvFrameHandle(uint8_t *pucBuffer);
  24:../user/source/main.c **** static void vAutoSetBaudrate(void);
  25:../user/source/main.c **** 
  26:../user/source/main.c **** int main(void)
  27:../user/source/main.c **** {
  28:../user/source/main.c ****     ProtocolDef ProtocolType = none;
  29:../user/source/main.c ****     uint8_t *pAPDU = NULL;
  30:../user/source/main.c ****     uint32_t dwLen = 0;
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 2


  31:../user/source/main.c ****     //uint8_t ucVoltageIdex;
  32:../user/source/main.c ****     uint32_t i;
  33:../user/source/main.c ****     DLT698_FRAME dlt698Frame;
  34:../user/source/main.c **** 
  35:../user/source/main.c ****     NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);
  36:../user/source/main.c ****     //SysTick_Config(SysTick_100Ms);
  37:../user/source/main.c ****     /*SysTickÊ¹ÓÃÏµÍ³ÆµÂÊ64MµÄ8·ÖÆµ£º8MHz*/
  38:../user/source/main.c ****     //SysTick_CLKSourceConfig(SysTick_CLKSource_HCLK_Div8);
  39:../user/source/main.c ****     //NVIC_SetPriority(SysTick_IRQn, -1);
  40:../user/source/main.c ****     vInterFlash_Init();
  41:../user/source/main.c ****     vGPIO_Init();
  42:../user/source/main.c ****     vFeedExtWatchDog();
  43:../user/source/main.c ****     vTimer_Init();
  44:../user/source/main.c ****     vLed_Light();
  45:../user/source/main.c ****     vAutoSetBaudrate(); //¼¯ÖÐÆ÷²à¶ÁÈ¡Ò»Ö¡£¬Ê¶±ð²¨ÌØÂÊ
  46:../user/source/main.c ****     /*µçÑ¹ÐÞ¸ÄµÄÉÏÏÂÏÞÖµÉèÎªÄ¬ÈÏÖµ£»¿ªÆôÐÞ¸Ä¹¦ÄÜ */
  47:../user/source/main.c ****     Voltage_Change_Init();
  48:../user/source/main.c ****     /*µçÁ÷ÖØ¹ýÔØ²ÎÊýÉèÖÃ*/
  49:../user/source/main.c ****     vCurrent_Limit_DefaultSet();
  50:../user/source/main.c ****     /*µçÁ¿ÐÞ¸ÄµÄÉÏÏÂÏÞÖµÉèÎªÄ¬ÈÏÖµ£»¿ªÆôÐÞ¸Ä¹¦ÄÜ */
  51:../user/source/main.c ****     vEnergy_Modify_Init();
  52:../user/source/main.c ****     while (1)
  53:../user/source/main.c ****     {
  54:../user/source/main.c ****         switch (ProtocolType)
  55:../user/source/main.c ****         {
  56:../user/source/main.c ****         case none:
  57:../user/source/main.c ****         {
  58:../user/source/main.c ****             vLedRun(TICK_200MS);
  59:../user/source/main.c ****             /*Ê¶±ð¹æÔ¼ÀàÐÍ*/
  60:../user/source/main.c ****             Uart_idleReadEnable(pUartZD);
  61:../user/source/main.c ****             Uart_idleReadEnable(pUartDB);
  62:../user/source/main.c ****             if (FLAG_UartZD_HasData)
  63:../user/source/main.c ****             {
  64:../user/source/main.c ****                 Uart_idleReadDisable(pUartZD);
  65:../user/source/main.c ****                 FLAG_UartZD_HasData = false;
  66:../user/source/main.c ****                 dwLen = dwUartCopy(pUartZD, ucApp_Buf_ZD2DB, pUartDB);
  67:../user/source/main.c ****                 ProtocolType = GetProtocolType(ucApp_Buf_ZD2DB, dwLen);
  68:../user/source/main.c ****                 Uart_idleReadEnable(pUartZD);
  69:../user/source/main.c ****             }
  70:../user/source/main.c ****             if (FLAG_UartDB_HasData)
  71:../user/source/main.c ****             {
  72:../user/source/main.c ****                 Uart_idleReadDisable(pUartDB);
  73:../user/source/main.c ****                 FLAG_UartDB_HasData = false;
  74:../user/source/main.c ****                 dwLen = dwUartCopy(pUartDB, ucApp_Buf_DB2ZD, pUartZD);
  75:../user/source/main.c ****                 ProtocolType = GetProtocolType(ucApp_Buf_DB2ZD, dwLen); //Ð£Ñé´íÎóÒ²ÄÛ¹ý£¿
  76:../user/source/main.c ****                 Uart_idleReadEnable(pUartDB);
  77:../user/source/main.c ****             }
  78:../user/source/main.c ****             break;
  79:../user/source/main.c ****         }
  80:../user/source/main.c ****         case dlt698:
  81:../user/source/main.c ****         {
  82:../user/source/main.c ****             vLedRun(TICK_1S);
  83:../user/source/main.c ****             Uart_idleReadEnable(pUartZD);
  84:../user/source/main.c ****             Uart_idleReadEnable(pUartDB);
  85:../user/source/main.c ****             if (FLAG_UartZD_HasData)
  86:../user/source/main.c ****             {
  87:../user/source/main.c ****                 Uart_idleReadDisable(pUartZD);
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 3


  88:../user/source/main.c ****                 FLAG_UartZD_HasData = false;
  89:../user/source/main.c ****                 dwLen = dwUartCopy(pUartZD, ucApp_Buf_ZD2DB, pUartDB);
  90:../user/source/main.c ****                 Uart_idleReadEnable(pUartZD);
  91:../user/source/main.c ****                 //if (pframe = pGetpFrame(ucApp_Buf_ZD2DB, dwLen) == NULL)
  92:../user/source/main.c ****                 break;
  93:../user/source/main.c ****             }
  94:../user/source/main.c ****             if (FLAG_UartDB_HasData)
  95:../user/source/main.c ****             {
  96:../user/source/main.c ****                 Uart_idleReadDisable(pUartDB);
  97:../user/source/main.c ****                 FLAG_UartDB_HasData = false;
  98:../user/source/main.c ****                 dlt698Frame.pStart = NULL;
  99:../user/source/main.c ****                 //dwLen = 0;
 100:../user/source/main.c **** 
 101:../user/source/main.c ****                 /*µç±í¿ÚÊÕÖ¡*/
 102:../user/source/main.c ****                 if ((dwLen = Uart_Read(pUartDB, ucApp_Buf_DB2ZD, DRV_BUF_SIZE)) == 0)
 103:../user/source/main.c ****                     break;
 104:../user/source/main.c **** #if 1
 105:../user/source/main.c ****                 if ((pGetpFrame(ucApp_Buf_DB2ZD, dwLen, &dlt698Frame)) == NULL) //Ð£Ñé´íÎó¾Í²»Í¸´«£
 106:../user/source/main.c ****                 {
 107:../user/source/main.c ****                     Uart_OnceWrite(pUartZD, ucApp_Buf_DB2ZD, dwLen, 1000 * TICK_1MS);
 108:../user/source/main.c ****                 }
 109:../user/source/main.c ****                 //if ((pGetpFrame(ucApp_Buf_DB2ZD, dwLen, &dlt698Frame)) != NULL) //Ð£Ñé´íÎó¾Í²»Í¸´
 110:../user/source/main.c ****                 else if (Voltage_Change_State != Voltage_NOChange)
 111:../user/source/main.c ****                 {
 112:../user/source/main.c ****                     if ((dwLen = dwGet698Apdu(&dlt698Frame, &pAPDU)) > 0)
 113:../user/source/main.c ****                     {
 114:../user/source/main.c ****                         if (dwAPduAnalyze(pAPDU, dwLen, &stCollData) > 0)
 115:../user/source/main.c ****                         {
 116:../user/source/main.c **** #endif
 117:../user/source/main.c ****                             for (i = 0; i < stCollData.ucDataNum; i++)
 118:../user/source/main.c ****                             {
 119:../user/source/main.c ****                                 if (stCollData.stDataUnit[i].stOAD.OI_date == 0x2000) /*µçÑ¹OI*/
 120:../user/source/main.c ****                                 {
 121:../user/source/main.c ****                                     v698VoltageModify(&stCollData.stDataUnit[i]);
 122:../user/source/main.c ****                                 }
 123:../user/source/main.c ****                             }
 124:../user/source/main.c ****                             dwReCalculateFCS(&dlt698Frame);
 125:../user/source/main.c ****                         }
 126:../user/source/main.c ****                     }
 127:../user/source/main.c ****                     Uart_OnceWrite(pUartZD, dlt698Frame.pStart, dlt698Frame.uwFramelen + 2, TICK_50
 128:../user/source/main.c ****                 }
 129:../user/source/main.c ****                 //frame -> UartBuf
 130:../user/source/main.c ****             }
 131:../user/source/main.c ****             Uart_idleReadEnable(pUartDB);
 132:../user/source/main.c ****             break;
 133:../user/source/main.c ****         }
 134:../user/source/main.c ****         case dlt645:
 135:../user/source/main.c ****         {
 136:../user/source/main.c ****             vLedRun(TICK_1S);
 137:../user/source/main.c ****             /*´®¿ÚÎÞÊÕ·¢Ê±Î¹¹·¼ä¸ôÎª1ms×óÓÒ*/
 138:../user/source/main.c ****             vFeedExtWatchDog();
 139:../user/source/main.c ****             /*¼¯ÖÐÆ÷²àÊý¾ÝÖ¡ÊÕÖ¡´¦Àí*/
 140:../user/source/main.c ****             if (blDrv_Buf_IsEmpty(pUartZD->pRsvbuf) == false)
 141:../user/source/main.c ****             {
 142:../user/source/main.c ****                 RsvFrameHandle(ucApp_Buf_ZD2DB);
 143:../user/source/main.c ****             }
 144:../user/source/main.c ****             /*µç±í²àÊÕÖ¡´¦Àí*/
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 4


 145:../user/source/main.c ****             /*Î´ÊÕµ½µç±íÖ¡*/
 146:../user/source/main.c ****             if (blDrv_Buf_IsEmpty(pUartDB->pRsvbuf) == true)
 147:../user/source/main.c ****             {
 148:../user/source/main.c ****                 VoltageTimeOutHandle();
 149:../user/source/main.c ****             }
 150:../user/source/main.c ****             /*ÊÕµ½µç±íÖ¡*/
 151:../user/source/main.c ****             else
 152:../user/source/main.c ****             {
 153:../user/source/main.c ****                 /*·Ç·¨Ö¡*/
 154:../user/source/main.c ****                 if (!blRecvFrame(pUartDB->pRsvbuf, ucApp_Buf_DB2ZD))
 155:../user/source/main.c ****                 {
 156:../user/source/main.c ****                     /*µçÑ¹»ØÖ¡³¬Ê±*/
 157:../user/source/main.c ****                     if ((Voltage_Frame_Status == FrameAwaitingReply) &&
 158:../user/source/main.c ****                         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 159:../user/source/main.c ****                     {
 160:../user/source/main.c ****                         /*ÖÐ¼ÌÆ÷Ê¹ÓÃÉÏ´ÎµÄÕýÈ·µçÑ¹ÖµÌæ´ú»Ø¸´*/
 161:../user/source/main.c ****                         if (blVoltage_Create(ucApp_Buf_ZD2DB))
 162:../user/source/main.c ****                         {
 163:../user/source/main.c ****                             ucDrv_Buf_PutBytes(ucApp_Buf_ZD2DB, pUartZD->pSndbuf, ucApp_Buf_ZD2DB[9
 164:../user/source/main.c ****                             /*·¢ËÍµçÑ¹Ö¡*/
 165:../user/source/main.c ****                             if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 166:../user/source/main.c ****                             {
 167:../user/source/main.c ****                                 Uart_DataPut(USART1);
 168:../user/source/main.c ****                                 /*µÈ´ýµçÑ¹»ØÖ¡×´Ì¬ÇåÎ»*/
 169:../user/source/main.c ****                                 Voltage_Frame_Status = FrameReplied;
 170:../user/source/main.c ****                                 /*¼ÆÊ±Æ÷¸´Î»*/
 171:../user/source/main.c ****                                 blFramesCounterStatus = false;
 172:../user/source/main.c ****                                 uwTime2FramesCounter = 0;
 173:../user/source/main.c ****                             }
 174:../user/source/main.c ****                         }
 175:../user/source/main.c ****                     }
 176:../user/source/main.c ****                 }
 177:../user/source/main.c ****                 /*ºÏ·¨Ö¡*/
 178:../user/source/main.c ****                 else
 179:../user/source/main.c ****                 {
 180:../user/source/main.c ****                     vDBDataID_Handle(ucApp_Buf_DB2ZD);
 181:../user/source/main.c ****                     ucDrv_Buf_PutBytes(ucApp_Buf_DB2ZD, pUartZD->pSndbuf, uc645DataDomainLength + 1
 182:../user/source/main.c ****                     if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 183:../user/source/main.c ****                     {
 184:../user/source/main.c ****                         Uart_DataPut(pUartZD->handler);
 185:../user/source/main.c ****                     }
 186:../user/source/main.c ****                 }
 187:../user/source/main.c ****             }
 188:../user/source/main.c ****             /*¿ÉÑ¡¹¦ÄÜ£ººìÍâÉèÖÃ²ÎÊý*/
 189:../user/source/main.c **** #ifdef ENABLE_INFR
 190:../user/source/main.c ****             /*ºìÍâ´®¿ÚÊÕÖ¡´¦Àí */
 191:../user/source/main.c ****             if (blDrv_Buf_IsEmpty(pUartIR->pRsvbuf) == false)
 192:../user/source/main.c ****             {
 193:../user/source/main.c ****                 if (blRecvFrame(pUartIR->pRsvbuf, ucApp_Buf_INFR))
 194:../user/source/main.c ****                 {
 195:../user/source/main.c ****                     if (ucApp_Buf_INFR[8] == 0X13)
 196:../user/source/main.c ****                     {
 197:../user/source/main.c ****                         ucApp_Buf_INFR[1] = 0x01;
 198:../user/source/main.c ****                         ucApp_Buf_INFR[2] = 0x01;
 199:../user/source/main.c ****                         ucApp_Buf_INFR[3] = 0x01;
 200:../user/source/main.c ****                         ucApp_Buf_INFR[4] = 0x01;
 201:../user/source/main.c ****                         ucApp_Buf_INFR[5] = 0x01;
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 5


 202:../user/source/main.c ****                         ucApp_Buf_INFR[6] = 0x01;
 203:../user/source/main.c ****                         ucApp_Buf_INFR[8] = 0x93;
 204:../user/source/main.c ****                         ucApp_Buf_INFR[9] = 0x06;
 205:../user/source/main.c ****                         ucApp_Buf_INFR[10] = 0x34;
 206:../user/source/main.c ****                         ucApp_Buf_INFR[11] = 0x34;
 207:../user/source/main.c ****                         ucApp_Buf_INFR[12] = 0x34;
 208:../user/source/main.c ****                         ucApp_Buf_INFR[13] = 0x34;
 209:../user/source/main.c ****                         ucApp_Buf_INFR[14] = 0x34;
 210:../user/source/main.c ****                         ucApp_Buf_INFR[15] = 0x34;
 211:../user/source/main.c ****                         ucApp_Buf_INFR[16] = 0xA7;
 212:../user/source/main.c ****                         ucApp_Buf_INFR[17] = 0x16;
 213:../user/source/main.c ****                         ucDrv_Buf_PutBytes(ucApp_Buf_INFR, pUartIR->pSndbuf, 18);
 214:../user/source/main.c ****                     }
 215:../user/source/main.c ****                     else
 216:../user/source/main.c ****                     {
 217:../user/source/main.c ****                         vINFRDataID_Handle(ucApp_Buf_INFR);
 218:../user/source/main.c ****                     }
 219:../user/source/main.c ****                     /*ºìÍâ¿Ú»ØÖ¡*/
 220:../user/source/main.c ****                     if (!blDrv_Buf_IsEmpty(pUartIR->pSndbuf))
 221:../user/source/main.c ****                     {
 222:../user/source/main.c ****                         USART_ITConfig(USART2, USART_IT_RXNE, DISABLE);
 223:../user/source/main.c ****                         //TIM_CCxCmd(TIM5, TIM_Channel_2, TIM_CCx_Enable);
 224:../user/source/main.c ****                         USART_ITConfig(USART2, USART_IT_TXE, ENABLE);
 225:../user/source/main.c ****                     }
 226:../user/source/main.c ****                 }
 227:../user/source/main.c ****             } //end ºìÍâÊÕÖ¡´¦Àí
 228:../user/source/main.c **** #endif
 229:../user/source/main.c ****             break;
 230:../user/source/main.c ****         } //end while
 231:../user/source/main.c ****         default:
 232:../user/source/main.c ****         {
 233:../user/source/main.c ****             break;
 234:../user/source/main.c ****         }
 235:../user/source/main.c ****         } //end switch
 236:../user/source/main.c ****     }     //end while
 237:../user/source/main.c **** } //end main
 238:../user/source/main.c **** 
 239:../user/source/main.c **** static void RsvFrameHandle(uint8_t *pucBuffer)
 240:../user/source/main.c **** {
  29              		.loc 1 240 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 38B5     		push	{r3, r4, r5, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 3, -16
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 0446     		mov	r4, r0
 241:../user/source/main.c ****     /*Ö¡ºÏ·¨ÐÔÅÐ¶Ï*/
 242:../user/source/main.c ****     if (blRecvFrame(pUartZD->pRsvbuf, pucBuffer))
  42              		.loc 1 242 0
  43 0004 154B     		ldr	r3, .L5
  44 0006 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 6


  45 0008 0146     		mov	r1, r0
  46 000a 5868     		ldr	r0, [r3, #4]
  47              	.LVL1:
  48 000c FFF7FEFF 		bl	blRecvFrame
  49              	.LVL2:
  50 0010 18B3     		cbz	r0, .L1
 243:../user/source/main.c ****     {
 244:../user/source/main.c ****         /*ÊÇ·ñÕÙ²âµçÑ¹*/
 245:../user/source/main.c ****         if ((pucBuffer[8] == 0X11) &&
  51              		.loc 1 245 0
  52 0012 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
  53 0014 112B     		cmp	r3, #17
  54 0016 0ED1     		bne	.L3
 246:../user/source/main.c ****             (pucBuffer[10] == 0x33) &&
  55              		.loc 1 246 0 discriminator 1
  56 0018 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 245:../user/source/main.c ****             (pucBuffer[10] == 0x33) &&
  57              		.loc 1 245 0 discriminator 1
  58 001a 332B     		cmp	r3, #51
  59 001c 0BD1     		bne	.L3
 247:../user/source/main.c ****             (pucBuffer[12] == 0x34) &&
  60              		.loc 1 247 0
  61 001e 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 246:../user/source/main.c ****             (pucBuffer[10] == 0x33) &&
  62              		.loc 1 246 0
  63 0020 342B     		cmp	r3, #52
  64 0022 08D1     		bne	.L3
 248:../user/source/main.c ****             (pucBuffer[13] == 0x35))
  65              		.loc 1 248 0
  66 0024 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 247:../user/source/main.c ****             (pucBuffer[12] == 0x34) &&
  67              		.loc 1 247 0
  68 0026 352B     		cmp	r3, #53
  69 0028 05D1     		bne	.L3
 249:../user/source/main.c ****         {
 250:../user/source/main.c ****             /*µÈ´ýµçÑ¹»ØÖ¡×´Ì¬ÖÃÎ»*/
 251:../user/source/main.c ****             Voltage_Frame_Status = FrameAwaitingReply;
  70              		.loc 1 251 0
  71 002a 0022     		movs	r2, #0
  72 002c 0C4B     		ldr	r3, .L5+4
  73 002e 1A70     		strb	r2, [r3]
 252:../user/source/main.c ****             /*¿ªÊ¼¼ÆÊ±*/
 253:../user/source/main.c ****             blFramesCounterStatus = true;
  74              		.loc 1 253 0
  75 0030 0122     		movs	r2, #1
  76 0032 0C4B     		ldr	r3, .L5+8
  77 0034 1A70     		strb	r2, [r3]
  78              	.L3:
 254:../user/source/main.c ****         }
 255:../user/source/main.c ****         /*×ª·¢ÕÙ²âÖ¡*/
 256:../user/source/main.c ****         ucDrv_Buf_PutBytes(pucBuffer, pUartDB->pSndbuf, uc645DataDomainLength + 12);
  79              		.loc 1 256 0
  80 0036 0C4D     		ldr	r5, .L5+12
  81 0038 2B68     		ldr	r3, [r5]
  82 003a 0C4A     		ldr	r2, .L5+16
  83 003c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
  84 003e 0C32     		adds	r2, r2, #12
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 7


  85 0040 9968     		ldr	r1, [r3, #8]
  86 0042 2046     		mov	r0, r4
  87 0044 FFF7FEFF 		bl	ucDrv_Buf_PutBytes
  88              	.LVL3:
 257:../user/source/main.c ****         if (!blDrv_Buf_IsEmpty(pUartDB->pSndbuf))
  89              		.loc 1 257 0
  90 0048 2B68     		ldr	r3, [r5]
  91 004a 9868     		ldr	r0, [r3, #8]
  92 004c FFF7FEFF 		bl	blDrv_Buf_IsEmpty
  93              	.LVL4:
  94 0050 18B9     		cbnz	r0, .L1
 258:../user/source/main.c ****         {
 259:../user/source/main.c ****             Uart_DataPut(pUartDB->handler);
  95              		.loc 1 259 0
  96 0052 2B68     		ldr	r3, [r5]
  97 0054 1868     		ldr	r0, [r3]
  98 0056 FFF7FEFF 		bl	Uart_DataPut
  99              	.LVL5:
 100              	.L1:
 101 005a 38BD     		pop	{r3, r4, r5, pc}
 102              	.LVL6:
 103              	.L6:
 104              		.align	2
 105              	.L5:
 106 005c 00000000 		.word	pUartZD
 107 0060 00000000 		.word	Voltage_Frame_Status
 108 0064 00000000 		.word	blFramesCounterStatus
 109 0068 00000000 		.word	pUartDB
 110 006c 00000000 		.word	uc645DataDomainLength
 111              		.cfi_endproc
 112              	.LFE112:
 114              		.section	.text.VoltageTimeOutHandle,"ax",%progbits
 115              		.align	2
 116              		.thumb
 117              		.thumb_func
 119              	VoltageTimeOutHandle:
 120              	.LFB113:
 260:../user/source/main.c ****         }
 261:../user/source/main.c ****     }
 262:../user/source/main.c **** }
 263:../user/source/main.c **** 
 264:../user/source/main.c **** static void VoltageTimeOutHandle(void)
 265:../user/source/main.c **** {
 121              		.loc 1 265 0
 122              		.cfi_startproc
 123              		@ args = 0, pretend = 0, frame = 0
 124              		@ frame_needed = 0, uses_anonymous_args = 0
 266:../user/source/main.c ****     /*ÕÙ²âµçÑ¹³¬Ê±*/
 267:../user/source/main.c ****     if ((Voltage_Frame_Status == FrameAwaitingReply) &&
 125              		.loc 1 267 0
 126 0000 144B     		ldr	r3, .L11
 127 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 128 0004 23BB     		cbnz	r3, .L10
 265:../user/source/main.c ****     /*ÕÙ²âµçÑ¹³¬Ê±*/
 129              		.loc 1 265 0 discriminator 1
 130 0006 10B5     		push	{r4, lr}
 131              	.LCFI1:
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 8


 132              		.cfi_def_cfa_offset 8
 133              		.cfi_offset 4, -8
 134              		.cfi_offset 14, -4
 268:../user/source/main.c ****         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 135              		.loc 1 268 0 discriminator 1
 136 0008 1921     		movs	r1, #25
 137 000a 134B     		ldr	r3, .L11+4
 138 000c 1888     		ldrh	r0, [r3]
 139 000e FFF7FEFF 		bl	blTime2_Update
 140              	.LVL7:
 267:../user/source/main.c ****         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 141              		.loc 1 267 0 discriminator 1
 142 0012 E0B1     		cbz	r0, .L7
 269:../user/source/main.c ****     {
 270:../user/source/main.c ****         /*ÖÐ¼ÌÆ÷Ê¹ÓÃÉÏ´ÎµÄÕýÈ·µçÑ¹ÖµÌæ´ú»Ø¸´*/
 271:../user/source/main.c ****         if (blVoltage_Create(ucApp_Buf_ZD2DB))
 143              		.loc 1 271 0
 144 0014 1148     		ldr	r0, .L11+8
 145 0016 FFF7FEFF 		bl	blVoltage_Create
 146              	.LVL8:
 147 001a C0B1     		cbz	r0, .L7
 272:../user/source/main.c ****         {
 273:../user/source/main.c ****             ucDrv_Buf_PutBytes(ucApp_Buf_ZD2DB, pUartZD->pSndbuf, ucApp_Buf_ZD2DB[9] + 12);
 148              		.loc 1 273 0
 149 001c 104C     		ldr	r4, .L11+12
 150 001e 2368     		ldr	r3, [r4]
 151 0020 0E48     		ldr	r0, .L11+8
 152 0022 427A     		ldrb	r2, [r0, #9]	@ zero_extendqisi2
 153 0024 0C32     		adds	r2, r2, #12
 154 0026 9968     		ldr	r1, [r3, #8]
 155 0028 FFF7FEFF 		bl	ucDrv_Buf_PutBytes
 156              	.LVL9:
 274:../user/source/main.c ****             if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 157              		.loc 1 274 0
 158 002c 2368     		ldr	r3, [r4]
 159 002e 9868     		ldr	r0, [r3, #8]
 160 0030 FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 161              	.LVL10:
 162 0034 58B9     		cbnz	r0, .L7
 275:../user/source/main.c ****             {
 276:../user/source/main.c ****                 Uart_DataPut(pUartZD->handler);
 163              		.loc 1 276 0
 164 0036 2368     		ldr	r3, [r4]
 165 0038 1868     		ldr	r0, [r3]
 166 003a FFF7FEFF 		bl	Uart_DataPut
 167              	.LVL11:
 277:../user/source/main.c ****                 /*µÈ´ýµçÑ¹»ØÖ¡×´Ì¬ÇåÎ»*/
 278:../user/source/main.c ****                 Voltage_Frame_Status = FrameReplied;
 168              		.loc 1 278 0
 169 003e 0122     		movs	r2, #1
 170 0040 044B     		ldr	r3, .L11
 171 0042 1A70     		strb	r2, [r3]
 279:../user/source/main.c ****                 /*¼ÆÊ±Æ÷¸´Î»*/
 280:../user/source/main.c ****                 blFramesCounterStatus = false;
 172              		.loc 1 280 0
 173 0044 0023     		movs	r3, #0
 174 0046 074A     		ldr	r2, .L11+16
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 9


 175 0048 1370     		strb	r3, [r2]
 281:../user/source/main.c ****                 uwTime2FramesCounter = 0;
 176              		.loc 1 281 0
 177 004a 034A     		ldr	r2, .L11+4
 178 004c 1380     		strh	r3, [r2]	@ movhi
 179              	.L7:
 180 004e 10BD     		pop	{r4, pc}
 181              	.L10:
 182              	.LCFI2:
 183              		.cfi_def_cfa_offset 0
 184              		.cfi_restore 4
 185              		.cfi_restore 14
 186 0050 7047     		bx	lr
 187              	.L12:
 188 0052 00BF     		.align	2
 189              	.L11:
 190 0054 00000000 		.word	Voltage_Frame_Status
 191 0058 00000000 		.word	uwTime2FramesCounter
 192 005c 00000000 		.word	ucApp_Buf_ZD2DB
 193 0060 00000000 		.word	pUartZD
 194 0064 00000000 		.word	blFramesCounterStatus
 195              		.cfi_endproc
 196              	.LFE113:
 198              		.section	.text.vLedRun,"ax",%progbits
 199              		.align	2
 200              		.thumb
 201              		.thumb_func
 203              	vLedRun:
 204              	.LFB117:
 282:../user/source/main.c ****             }
 283:../user/source/main.c ****         }
 284:../user/source/main.c ****     }
 285:../user/source/main.c **** }
 286:../user/source/main.c **** /********************************************************************
 287:../user/source/main.c **** * ¹¦    ÄÜ£º¸ù¾Ý´®¿Ú1Î»Êý¾ÝµçÆ½³ÖÐøÊ±¼ä¼ÆËã²¨ÌØÂÊ
 288:../user/source/main.c **** * Êä    Èë£ºµçÆ½³ÖÐøÊ±¼ä
 289:../user/source/main.c **** * Êä    ³ö£º¶ÔÓ¦²¨ÌØÂÊ
 290:../user/source/main.c **** * Ëµ    Ãû£º
 291:../user/source/main.c **** * ±à Ð´ ÈË£º
 292:../user/source/main.c **** * ±àÐ´ÈÕÆÚ£º2018Äê9ÔÂ10ÈÕ16:01:21
 293:../user/source/main.c **** **********************************************************************/
 294:../user/source/main.c **** uint32_t uwFindBaudRate(uint32_t baudDelay)
 295:../user/source/main.c **** {
 296:../user/source/main.c ****     /* Baud 1200 :1666us*/
 297:../user/source/main.c ****     //if (baudDelay > 1500 && baudDelay < 1800)
 298:../user/source/main.c ****     //   return 1200;
 299:../user/source/main.c ****     /* Baud 1200:833us*/
 300:../user/source/main.c ****     if (baudDelay > 820 && baudDelay < 850)
 301:../user/source/main.c ****         return 1200;
 302:../user/source/main.c ****     /* Baud 2400:417us*/
 303:../user/source/main.c ****     else if (baudDelay > 400 && baudDelay < 430)
 304:../user/source/main.c ****         return 2400;
 305:../user/source/main.c ****     /* Baud 4800:208us*/
 306:../user/source/main.c ****     else if (baudDelay > 190 && baudDelay < 220)
 307:../user/source/main.c ****         return 4800;
 308:../user/source/main.c ****     /* Baud 9600 :104us*/
 309:../user/source/main.c ****     else if (baudDelay > 90 && baudDelay < 120)
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 10


 310:../user/source/main.c ****         return 9600;
 311:../user/source/main.c ****     else
 312:../user/source/main.c ****         /*default baudrate*/
 313:../user/source/main.c ****         return 2400;
 314:../user/source/main.c **** }
 315:../user/source/main.c **** 
 316:../user/source/main.c **** /********************************************************************
 317:../user/source/main.c **** * ¹¦    ÄÜ£º¼ÆËã´®¿Ú1Î»Êý¾ÝµçÆ½³ÖÐøÊ±¼ä
 318:../user/source/main.c **** * Êä    Èë£º³ÖÐøÊ±¼ä´æ´¢Î»ÖÃ
 319:../user/source/main.c **** * Êä    ³ö£ºNone
 320:../user/source/main.c **** * Ëµ    Ã÷£ºÖÐ¶Ï·þÎñº¯ÊýÖÐ¼ÇÂ¼n¸öÖÐ¶ÏµÄÊ±±ê
 321:../user/source/main.c **** *           ÏàÁÚÊ±±ê¼ÆËãÂö³å³ÖÐøÊ±¼ä
 322:../user/source/main.c **** *           ²éÕÒ×î¶Ì³ÖÐøÊ±¼ä
 323:../user/source/main.c **** * ±à Ð´ ÈË£º
 324:../user/source/main.c **** * ±àÐ´ÈÕÆÚ£º2018Äê9ÔÂ5ÈÕ15:08:58
 325:../user/source/main.c **** **********************************************************************/
 326:../user/source/main.c **** void vUartZD_BaudelayCal(volatile uint32_t *pBaudelay)
 327:../user/source/main.c **** {
 328:../user/source/main.c **** 
 329:../user/source/main.c ****     static uint32_t LAST_TICK = 0xFFFFFFFF;
 330:../user/source/main.c ****     uint32_t nowtick = 0;
 331:../user/source/main.c ****     uint32_t tmpdelay = 0;
 332:../user/source/main.c ****     irqCount--;
 333:../user/source/main.c ****     /*È¡µ±Ç°tickÊý£¬0~0xFFFFÑ­»·*/
 334:../user/source/main.c ****     nowtick = TICKS;
 335:../user/source/main.c ****     /*³õ´ÎÊÕµ½´®¿ÚÊý¾Ý£¬ÏµÍ³tick×î´ó65535*/
 336:../user/source/main.c ****     if (LAST_TICK != 0xFFFFFFFF)
 337:../user/source/main.c ****     {
 338:../user/source/main.c ****         /*ÓëlastickÏà¼õµÃµ½±¾´Îdelay*/
 339:../user/source/main.c ****         tmpdelay = (nowtick + 0xFFFF - LAST_TICK) & 0xFFFF;
 340:../user/source/main.c ****         /*µ±Ç°tickÊý´æÎªcount*/
 341:../user/source/main.c ****         LAST_TICK = nowtick;
 342:../user/source/main.c ****         /*ÓëÉÏ´Îdelay±È½Ï£¬È¡½ÏÐ¡Öµ´æÎªdelay*/
 343:../user/source/main.c ****         if (tmpdelay < *pBaudelay)
 344:../user/source/main.c ****         {
 345:../user/source/main.c ****             *pBaudelay = tmpdelay;
 346:../user/source/main.c ****         }
 347:../user/source/main.c ****     }
 348:../user/source/main.c ****     else //Ö®Ç°ÒÑÓÐ±ßÑØÖÐ¶Ï
 349:../user/source/main.c ****     {
 350:../user/source/main.c ****         /*µ±Ç°tickÊý´æÎªlastick*/
 351:../user/source/main.c ****         /*delay= 0xFFFFFFFF*/
 352:../user/source/main.c ****         LAST_TICK = nowtick;
 353:../user/source/main.c ****     }
 354:../user/source/main.c **** }
 355:../user/source/main.c **** 
 356:../user/source/main.c **** void vAutoSetBaudrate(void)
 357:../user/source/main.c **** {
 358:../user/source/main.c ****     uint32_t Uart_BaudRate;
 359:../user/source/main.c ****     vSystickSetAccuracy(1000000); //SysTick = 1us
 360:../user/source/main.c ****     vSystickIntCmd(ENABLE);
 361:../user/source/main.c ****     /*TICKÊ¹ÄÜºó²ÅÄÜ³õÊ¼»¯Íâ²¿ÖÐ¶Ï*/
 362:../user/source/main.c ****     vExti_Init(); //
 363:../user/source/main.c ****     irqCount = 100;
 364:../user/source/main.c ****     uwBaudelay = 0xFFFFFFFF;
 365:../user/source/main.c ****     while (irqCount)
 366:../user/source/main.c ****     {
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 11


 367:../user/source/main.c ****         vFeedExtWatchDog();
 368:../user/source/main.c ****     }
 369:../user/source/main.c ****     EXTI_DeInit();
 370:../user/source/main.c ****     Uart_BaudRate = uwFindBaudRate(uwBaudelay);
 371:../user/source/main.c ****     vSystickSetAccuracy(1000); //systick=1ms
 372:../user/source/main.c ****     vSystickIntCmd(ENABLE);
 373:../user/source/main.c ****     vUart_EnableBaudrate(pUartZD, Uart_BaudRate); //Ê¹ÄÜ½ÓÊÕÖÐ¶Ï
 374:../user/source/main.c ****     vUart_EnableBaudrate(pUartDB, Uart_BaudRate);
 375:../user/source/main.c ****     /*½ÓÊÕºóÐø×Ö½Ú²¢ºöÂÔ*/
 376:../user/source/main.c ****     Uart_IdleRead(pUartZD, ucApp_Buf_ZD2DB, DRV_BUF_SIZE, TICK_500MS);
 377:../user/source/main.c ****     vBuf_Clear(pUartZD->pRsvbuf);
 378:../user/source/main.c ****     //Uart_idleReadEnable(pUartZD);
 379:../user/source/main.c ****     //Uart_idleReadEnable(pUartDB);
 380:../user/source/main.c **** 
 381:../user/source/main.c **** #if 0
 382:../user/source/main.c ****     Uart_ITReadEnable(pUartZD);
 383:../user/source/main.c ****     /*last loop do not clear FLAG,second loop do not receive second frame*/
 384:../user/source/main.c ****     while (!FLAG_UartZD_HasData)
 385:../user/source/main.c ****     {
 386:../user/source/main.c ****         vFeedExtWatchDog();
 387:../user/source/main.c ****     }
 388:../user/source/main.c ****     Uart_ITReadDisable(pUartZD);
 389:../user/source/main.c ****     FLAG_UartZD_HasData = false;
 390:../user/source/main.c ****     pdataDown->len = Uart_Read(pUartZD, (uint8_t *)pdataDown, BUF_SIZE);
 391:../user/source/main.c ****     if (pdataDown->len == 0)
 392:../user/source/main.c ****     {
 393:../user/source/main.c ****         UartDB_BaudRate = 0;
 394:../user/source/main.c ****         continue;
 395:../user/source/main.c ****     }
 396:../user/source/main.c ****     do
 397:../user/source/main.c ****     {
 398:../user/source/main.c ****         vFeedExtWatchDog();
 399:../user/source/main.c ****         vUart_EnableBaudrate(pUartDB, UartDB_BaudRate);
 400:../user/source/main.c ****         Uart_OnceWrite(pUartDB, (uint8_t *)pdataDown, pdataDown->len, 1000);
 401:../user/source/main.c ****         pdataUp->len = Uart_IdleRead(pUartDB, (uint8_t *)pdataUp, BUF_SIZE, 500);
 402:../user/source/main.c ****         pframe = pGetpFrame((uint8_t *)pdataUp, pdataUp->len);
 403:../user/source/main.c ****         /*9600 -> 4800 -> 2400 -> 1200*/
 404:../user/source/main.c ****         UartDB_BaudRate = UartDB_BaudRate >> 1;
 405:../user/source/main.c ****     } while (pframe == NULL && UartDB_BaudRate > 600);
 406:../user/source/main.c ****     /*if no reply from DB,UartDB_BaudRate always == 600*/
 407:../user/source/main.c ****     //} while (UartDB_BaudRate < 1200); //²¨ÌØÂÊÆ¥ÅäÍê³É
 408:../user/source/main.c **** #endif
 409:../user/source/main.c **** }
 410:../user/source/main.c **** void vLedRun(uint32_t delay)
 411:../user/source/main.c **** {
 205              		.loc 1 411 0
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 0
 208              		@ frame_needed = 0, uses_anonymous_args = 0
 209              	.LVL12:
 210 0000 08B5     		push	{r3, lr}
 211              	.LCFI3:
 212              		.cfi_def_cfa_offset 8
 213              		.cfi_offset 3, -8
 214              		.cfi_offset 14, -4
 412:../user/source/main.c ****     static uint32_t last_tick = 0;
 413:../user/source/main.c ****     if (TICKS - last_tick > delay)
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 12


 215              		.loc 1 413 0
 216 0002 0F4B     		ldr	r3, .L17
 217 0004 1A68     		ldr	r2, [r3]
 218 0006 0F4B     		ldr	r3, .L17+4
 219 0008 1B68     		ldr	r3, [r3]
 220 000a D31A     		subs	r3, r2, r3
 221 000c 8342     		cmp	r3, r0
 222 000e 15D9     		bls	.L13
 414:../user/source/main.c ****     {
 415:../user/source/main.c ****         last_tick = TICKS;
 223              		.loc 1 415 0
 224 0010 0C4B     		ldr	r3, .L17+4
 225 0012 1A60     		str	r2, [r3]
 416:../user/source/main.c ****         if (Bit_SET == GPIO_ReadOutputDataBit(GPIOC, GPIO_Pin_13))
 226              		.loc 1 416 0
 227 0014 4FF40051 		mov	r1, #8192
 228 0018 0B48     		ldr	r0, .L17+8
 229              	.LVL13:
 230 001a FFF7FEFF 		bl	GPIO_ReadOutputDataBit
 231              	.LVL14:
 232 001e 0128     		cmp	r0, #1
 233 0020 06D1     		bne	.L15
 417:../user/source/main.c ****         {
 418:../user/source/main.c ****             GPIO_WriteBit(GPIOC, GPIO_Pin_13, Bit_RESET); //À­µÍPC13
 234              		.loc 1 418 0
 235 0022 0022     		movs	r2, #0
 236 0024 4FF40051 		mov	r1, #8192
 237 0028 0748     		ldr	r0, .L17+8
 238 002a FFF7FEFF 		bl	GPIO_WriteBit
 239              	.LVL15:
 240 002e 08BD     		pop	{r3, pc}
 241              	.L15:
 419:../user/source/main.c ****         }
 420:../user/source/main.c ****         else
 421:../user/source/main.c ****         {
 422:../user/source/main.c ****             GPIO_WriteBit(GPIOC, GPIO_Pin_13, Bit_SET);
 242              		.loc 1 422 0
 243 0030 0122     		movs	r2, #1
 244 0032 4FF40051 		mov	r1, #8192
 245 0036 0448     		ldr	r0, .L17+8
 246 0038 FFF7FEFF 		bl	GPIO_WriteBit
 247              	.LVL16:
 248              	.L13:
 249 003c 08BD     		pop	{r3, pc}
 250              	.L18:
 251 003e 00BF     		.align	2
 252              	.L17:
 253 0040 00000000 		.word	TICKS
 254 0044 00000000 		.word	.LANCHOR0
 255 0048 00080048 		.word	1207961600
 256              		.cfi_endproc
 257              	.LFE117:
 259              		.section	.text.uwFindBaudRate,"ax",%progbits
 260              		.align	2
 261              		.global	uwFindBaudRate
 262              		.thumb
 263              		.thumb_func
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 13


 265              	uwFindBaudRate:
 266              	.LFB114:
 295:../user/source/main.c ****     /* Baud 1200 :1666us*/
 267              		.loc 1 295 0
 268              		.cfi_startproc
 269              		@ args = 0, pretend = 0, frame = 0
 270              		@ frame_needed = 0, uses_anonymous_args = 0
 271              		@ link register save eliminated.
 272              	.LVL17:
 300:../user/source/main.c ****         return 1200;
 273              		.loc 1 300 0
 274 0000 A0F23533 		subw	r3, r0, #821
 275 0004 1C2B     		cmp	r3, #28
 276 0006 0DD9     		bls	.L21
 303:../user/source/main.c ****         return 2400;
 277              		.loc 1 303 0
 278 0008 A0F29113 		subw	r3, r0, #401
 279 000c 1C2B     		cmp	r3, #28
 280 000e 0CD9     		bls	.L22
 306:../user/source/main.c ****         return 4800;
 281              		.loc 1 306 0
 282 0010 A0F1BF03 		sub	r3, r0, #191
 283 0014 1C2B     		cmp	r3, #28
 284 0016 0BD9     		bls	.L23
 309:../user/source/main.c ****         return 9600;
 285              		.loc 1 309 0
 286 0018 5B38     		subs	r0, r0, #91
 287              	.LVL18:
 288 001a 1C28     		cmp	r0, #28
 289 001c 0BD8     		bhi	.L24
 310:../user/source/main.c ****     else
 290              		.loc 1 310 0
 291 001e 4FF41650 		mov	r0, #9600
 292              	.LVL19:
 293 0022 7047     		bx	lr
 294              	.LVL20:
 295              	.L21:
 301:../user/source/main.c ****     /* Baud 2400:417us*/
 296              		.loc 1 301 0
 297 0024 4FF49660 		mov	r0, #1200
 298              	.LVL21:
 299 0028 7047     		bx	lr
 300              	.LVL22:
 301              	.L22:
 304:../user/source/main.c ****     /* Baud 4800:208us*/
 302              		.loc 1 304 0
 303 002a 4FF41660 		mov	r0, #2400
 304              	.LVL23:
 305 002e 7047     		bx	lr
 306              	.LVL24:
 307              	.L23:
 307:../user/source/main.c ****     /* Baud 9600 :104us*/
 308              		.loc 1 307 0
 309 0030 4FF49650 		mov	r0, #4800
 310              	.LVL25:
 311 0034 7047     		bx	lr
 312              	.L24:
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 14


 313:../user/source/main.c **** }
 313              		.loc 1 313 0
 314 0036 4FF41660 		mov	r0, #2400
 314:../user/source/main.c **** 
 315              		.loc 1 314 0
 316 003a 7047     		bx	lr
 317              		.cfi_endproc
 318              	.LFE114:
 320              		.section	.text.vAutoSetBaudrate,"ax",%progbits
 321              		.align	2
 322              		.thumb
 323              		.thumb_func
 325              	vAutoSetBaudrate:
 326              	.LFB116:
 357:../user/source/main.c ****     uint32_t Uart_BaudRate;
 327              		.loc 1 357 0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331 0000 38B5     		push	{r3, r4, r5, lr}
 332              	.LCFI4:
 333              		.cfi_def_cfa_offset 16
 334              		.cfi_offset 3, -16
 335              		.cfi_offset 4, -12
 336              		.cfi_offset 5, -8
 337              		.cfi_offset 14, -4
 359:../user/source/main.c ****     vSystickIntCmd(ENABLE);
 338              		.loc 1 359 0
 339 0002 1E48     		ldr	r0, .L29
 340 0004 FFF7FEFF 		bl	vSystickSetAccuracy
 341              	.LVL26:
 360:../user/source/main.c ****     /*TICKÊ¹ÄÜºó²ÅÄÜ³õÊ¼»¯Íâ²¿ÖÐ¶Ï*/
 342              		.loc 1 360 0
 343 0008 0120     		movs	r0, #1
 344 000a FFF7FEFF 		bl	vSystickIntCmd
 345              	.LVL27:
 362:../user/source/main.c ****     irqCount = 100;
 346              		.loc 1 362 0
 347 000e FFF7FEFF 		bl	vExti_Init
 348              	.LVL28:
 363:../user/source/main.c ****     uwBaudelay = 0xFFFFFFFF;
 349              		.loc 1 363 0
 350 0012 6422     		movs	r2, #100
 351 0014 1A4B     		ldr	r3, .L29+4
 352 0016 1A60     		str	r2, [r3]
 364:../user/source/main.c ****     while (irqCount)
 353              		.loc 1 364 0
 354 0018 4FF0FF32 		mov	r2, #-1
 355 001c 194B     		ldr	r3, .L29+8
 356 001e 1A60     		str	r2, [r3]
 365:../user/source/main.c ****     {
 357              		.loc 1 365 0
 358 0020 01E0     		b	.L26
 359              	.L27:
 367:../user/source/main.c ****     }
 360              		.loc 1 367 0
 361 0022 FFF7FEFF 		bl	vFeedExtWatchDog
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 15


 362              	.LVL29:
 363              	.L26:
 365:../user/source/main.c ****     {
 364              		.loc 1 365 0
 365 0026 164B     		ldr	r3, .L29+4
 366 0028 1B68     		ldr	r3, [r3]
 367 002a 002B     		cmp	r3, #0
 368 002c F9D1     		bne	.L27
 369:../user/source/main.c ****     Uart_BaudRate = uwFindBaudRate(uwBaudelay);
 369              		.loc 1 369 0
 370 002e FFF7FEFF 		bl	EXTI_DeInit
 371              	.LVL30:
 370:../user/source/main.c ****     vSystickSetAccuracy(1000); //systick=1ms
 372              		.loc 1 370 0
 373 0032 144B     		ldr	r3, .L29+8
 374 0034 1868     		ldr	r0, [r3]
 375 0036 FFF7FEFF 		bl	uwFindBaudRate
 376              	.LVL31:
 377 003a 0546     		mov	r5, r0
 378              	.LVL32:
 371:../user/source/main.c ****     vSystickIntCmd(ENABLE);
 379              		.loc 1 371 0
 380 003c 4FF47A70 		mov	r0, #1000
 381              	.LVL33:
 382 0040 FFF7FEFF 		bl	vSystickSetAccuracy
 383              	.LVL34:
 372:../user/source/main.c ****     vUart_EnableBaudrate(pUartZD, Uart_BaudRate); //Ê¹ÄÜ½ÓÊÕÖÐ¶Ï
 384              		.loc 1 372 0
 385 0044 0120     		movs	r0, #1
 386 0046 FFF7FEFF 		bl	vSystickIntCmd
 387              	.LVL35:
 373:../user/source/main.c ****     vUart_EnableBaudrate(pUartDB, Uart_BaudRate);
 388              		.loc 1 373 0
 389 004a 0F4C     		ldr	r4, .L29+12
 390 004c 2946     		mov	r1, r5
 391 004e 2068     		ldr	r0, [r4]
 392 0050 FFF7FEFF 		bl	vUart_EnableBaudrate
 393              	.LVL36:
 374:../user/source/main.c ****     /*½ÓÊÕºóÐø×Ö½Ú²¢ºöÂÔ*/
 394              		.loc 1 374 0
 395 0054 2946     		mov	r1, r5
 396 0056 0D4B     		ldr	r3, .L29+16
 397 0058 1868     		ldr	r0, [r3]
 398 005a FFF7FEFF 		bl	vUart_EnableBaudrate
 399              	.LVL37:
 376:../user/source/main.c ****     vBuf_Clear(pUartZD->pRsvbuf);
 400              		.loc 1 376 0
 401 005e 0C4B     		ldr	r3, .L29+20
 402 0060 1B68     		ldr	r3, [r3]
 403 0062 5B08     		lsrs	r3, r3, #1
 404 0064 4FF47A72 		mov	r2, #1000
 405 0068 0A49     		ldr	r1, .L29+24
 406 006a 2068     		ldr	r0, [r4]
 407 006c FFF7FEFF 		bl	Uart_IdleRead
 408              	.LVL38:
 377:../user/source/main.c ****     //Uart_idleReadEnable(pUartZD);
 409              		.loc 1 377 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 16


 410 0070 2368     		ldr	r3, [r4]
 411 0072 5868     		ldr	r0, [r3, #4]
 412 0074 FFF7FEFF 		bl	vBuf_Clear
 413              	.LVL39:
 414 0078 38BD     		pop	{r3, r4, r5, pc}
 415              	.LVL40:
 416              	.L30:
 417 007a 00BF     		.align	2
 418              	.L29:
 419 007c 40420F00 		.word	1000000
 420 0080 00000000 		.word	.LANCHOR1
 421 0084 00000000 		.word	uwBaudelay
 422 0088 00000000 		.word	pUartZD
 423 008c 00000000 		.word	pUartDB
 424 0090 00000000 		.word	gSystickAccuracy
 425 0094 00000000 		.word	ucApp_Buf_ZD2DB
 426              		.cfi_endproc
 427              	.LFE116:
 429              		.section	.text.main,"ax",%progbits
 430              		.align	2
 431              		.global	main
 432              		.thumb
 433              		.thumb_func
 435              	main:
 436              	.LFB111:
  27:../user/source/main.c ****     ProtocolDef ProtocolType = none;
 437              		.loc 1 27 0
 438              		.cfi_startproc
 439              		@ args = 0, pretend = 0, frame = 24
 440              		@ frame_needed = 0, uses_anonymous_args = 0
 441 0000 70B5     		push	{r4, r5, r6, lr}
 442              	.LCFI5:
 443              		.cfi_def_cfa_offset 16
 444              		.cfi_offset 4, -16
 445              		.cfi_offset 5, -12
 446              		.cfi_offset 6, -8
 447              		.cfi_offset 14, -4
 448 0002 86B0     		sub	sp, sp, #24
 449              	.LCFI6:
 450              		.cfi_def_cfa_offset 40
 451              	.LVL41:
  29:../user/source/main.c ****     uint32_t dwLen = 0;
 452              		.loc 1 29 0
 453 0004 0023     		movs	r3, #0
 454 0006 0593     		str	r3, [sp, #20]
 455              	.LVL42:
  35:../user/source/main.c ****     //SysTick_Config(SysTick_100Ms);
 456              		.loc 1 35 0
 457 0008 4FF4C060 		mov	r0, #1536
 458 000c FFF7FEFF 		bl	NVIC_PriorityGroupConfig
 459              	.LVL43:
  40:../user/source/main.c ****     vGPIO_Init();
 460              		.loc 1 40 0
 461 0010 FFF7FEFF 		bl	vInterFlash_Init
 462              	.LVL44:
  41:../user/source/main.c ****     vFeedExtWatchDog();
 463              		.loc 1 41 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 17


 464 0014 FFF7FEFF 		bl	vGPIO_Init
 465              	.LVL45:
  42:../user/source/main.c ****     vTimer_Init();
 466              		.loc 1 42 0
 467 0018 FFF7FEFF 		bl	vFeedExtWatchDog
 468              	.LVL46:
  43:../user/source/main.c ****     vLed_Light();
 469              		.loc 1 43 0
 470 001c FFF7FEFF 		bl	vTimer_Init
 471              	.LVL47:
  44:../user/source/main.c ****     vAutoSetBaudrate(); //¼¯ÖÐÆ÷²à¶ÁÈ¡Ò»Ö¡£¬Ê¶±ð²¨ÌØÂÊ
 472              		.loc 1 44 0
 473 0020 FFF7FEFF 		bl	vLed_Light
 474              	.LVL48:
  45:../user/source/main.c ****     /*µçÑ¹ÐÞ¸ÄµÄÉÏÏÂÏÞÖµÉèÎªÄ¬ÈÏÖµ£»¿ªÆôÐÞ¸Ä¹¦ÄÜ */
 475              		.loc 1 45 0
 476 0024 FFF7FEFF 		bl	vAutoSetBaudrate
 477              	.LVL49:
  47:../user/source/main.c ****     /*µçÁ÷ÖØ¹ýÔØ²ÎÊýÉèÖÃ*/
 478              		.loc 1 47 0
 479 0028 FFF7FEFF 		bl	Voltage_Change_Init
 480              	.LVL50:
  49:../user/source/main.c ****     /*µçÁ¿ÐÞ¸ÄµÄÉÏÏÂÏÞÖµÉèÎªÄ¬ÈÏÖµ£»¿ªÆôÐÞ¸Ä¹¦ÄÜ */
 481              		.loc 1 49 0
 482 002c FFF7FEFF 		bl	vCurrent_Limit_DefaultSet
 483              	.LVL51:
  51:../user/source/main.c ****     while (1)
 484              		.loc 1 51 0
 485 0030 FFF7FEFF 		bl	vEnergy_Modify_Init
 486              	.LVL52:
  28:../user/source/main.c ****     uint8_t *pAPDU = NULL;
 487              		.loc 1 28 0
 488 0034 0224     		movs	r4, #2
 489              	.LVL53:
 490              	.L33:
  54:../user/source/main.c ****         {
 491              		.loc 1 54 0
 492 0036 012C     		cmp	r4, #1
 493 0038 48D0     		beq	.L34
 494 003a 002C     		cmp	r4, #0
 495 003c 00F0CD80 		beq	.L35
 496 0040 022C     		cmp	r4, #2
 497 0042 F8D1     		bne	.L33
  58:../user/source/main.c ****             /*Ê¶±ð¹æÔ¼ÀàÐÍ*/
 498              		.loc 1 58 0
 499 0044 894B     		ldr	r3, .L54
 500 0046 1B68     		ldr	r3, [r3]
 501 0048 8948     		ldr	r0, .L54+4
 502 004a A0FB0330 		umull	r3, r0, r0, r3
 503 004e 8008     		lsrs	r0, r0, #2
 504 0050 FFF7FEFF 		bl	vLedRun
 505              	.LVL54:
  60:../user/source/main.c ****             Uart_idleReadEnable(pUartDB);
 506              		.loc 1 60 0
 507 0054 874B     		ldr	r3, .L54+8
 508 0056 1868     		ldr	r0, [r3]
 509 0058 FFF7FEFF 		bl	Uart_idleReadEnable
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 18


 510              	.LVL55:
  61:../user/source/main.c ****             if (FLAG_UartZD_HasData)
 511              		.loc 1 61 0
 512 005c 864B     		ldr	r3, .L54+12
 513 005e 1868     		ldr	r0, [r3]
 514 0060 FFF7FEFF 		bl	Uart_idleReadEnable
 515              	.LVL56:
  62:../user/source/main.c ****             {
 516              		.loc 1 62 0
 517 0064 854B     		ldr	r3, .L54+16
 518 0066 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 519 0068 ABB1     		cbz	r3, .L37
  64:../user/source/main.c ****                 FLAG_UartZD_HasData = false;
 520              		.loc 1 64 0
 521 006a 824D     		ldr	r5, .L54+8
 522 006c 2868     		ldr	r0, [r5]
 523 006e FFF7FEFF 		bl	Uart_idleReadDisable
 524              	.LVL57:
  65:../user/source/main.c ****                 dwLen = dwUartCopy(pUartZD, ucApp_Buf_ZD2DB, pUartDB);
 525              		.loc 1 65 0
 526 0072 0022     		movs	r2, #0
 527 0074 814B     		ldr	r3, .L54+16
 528 0076 1A70     		strb	r2, [r3]
  66:../user/source/main.c ****                 ProtocolType = GetProtocolType(ucApp_Buf_ZD2DB, dwLen);
 529              		.loc 1 66 0
 530 0078 814C     		ldr	r4, .L54+20
 531              	.LVL58:
 532 007a 7F4B     		ldr	r3, .L54+12
 533 007c 1A68     		ldr	r2, [r3]
 534 007e 2146     		mov	r1, r4
 535 0080 2868     		ldr	r0, [r5]
 536 0082 FFF7FEFF 		bl	dwUartCopy
 537              	.LVL59:
  67:../user/source/main.c ****                 Uart_idleReadEnable(pUartZD);
 538              		.loc 1 67 0
 539 0086 0146     		mov	r1, r0
 540 0088 2046     		mov	r0, r4
 541              	.LVL60:
 542 008a FFF7FEFF 		bl	GetProtocolType
 543              	.LVL61:
 544 008e 0446     		mov	r4, r0
 545              	.LVL62:
  68:../user/source/main.c ****             }
 546              		.loc 1 68 0
 547 0090 2868     		ldr	r0, [r5]
 548 0092 FFF7FEFF 		bl	Uart_idleReadEnable
 549              	.LVL63:
 550              	.L37:
  70:../user/source/main.c ****             {
 551              		.loc 1 70 0
 552 0096 7B4B     		ldr	r3, .L54+24
 553 0098 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 554 009a 002B     		cmp	r3, #0
 555 009c CBD0     		beq	.L33
  72:../user/source/main.c ****                 FLAG_UartDB_HasData = false;
 556              		.loc 1 72 0
 557 009e 764D     		ldr	r5, .L54+12
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 19


 558 00a0 2868     		ldr	r0, [r5]
 559 00a2 FFF7FEFF 		bl	Uart_idleReadDisable
 560              	.LVL64:
  73:../user/source/main.c ****                 dwLen = dwUartCopy(pUartDB, ucApp_Buf_DB2ZD, pUartZD);
 561              		.loc 1 73 0
 562 00a6 0022     		movs	r2, #0
 563 00a8 764B     		ldr	r3, .L54+24
 564 00aa 1A70     		strb	r2, [r3]
  74:../user/source/main.c ****                 ProtocolType = GetProtocolType(ucApp_Buf_DB2ZD, dwLen); //Ð£Ñé´íÎóÒ²ÄÛ¹ý£¿
 565              		.loc 1 74 0
 566 00ac 764C     		ldr	r4, .L54+28
 567              	.LVL65:
 568 00ae 714B     		ldr	r3, .L54+8
 569 00b0 1A68     		ldr	r2, [r3]
 570 00b2 2146     		mov	r1, r4
 571 00b4 2868     		ldr	r0, [r5]
 572 00b6 FFF7FEFF 		bl	dwUartCopy
 573              	.LVL66:
  75:../user/source/main.c ****                 Uart_idleReadEnable(pUartDB);
 574              		.loc 1 75 0
 575 00ba 0146     		mov	r1, r0
 576 00bc 2046     		mov	r0, r4
 577              	.LVL67:
 578 00be FFF7FEFF 		bl	GetProtocolType
 579              	.LVL68:
 580 00c2 0446     		mov	r4, r0
 581              	.LVL69:
  76:../user/source/main.c ****             }
 582              		.loc 1 76 0
 583 00c4 2868     		ldr	r0, [r5]
 584 00c6 FFF7FEFF 		bl	Uart_idleReadEnable
 585              	.LVL70:
 586 00ca B4E7     		b	.L33
 587              	.L34:
  82:../user/source/main.c ****             Uart_idleReadEnable(pUartZD);
 588              		.loc 1 82 0
 589 00cc 674B     		ldr	r3, .L54
 590 00ce 1868     		ldr	r0, [r3]
 591 00d0 FFF7FEFF 		bl	vLedRun
 592              	.LVL71:
  83:../user/source/main.c ****             Uart_idleReadEnable(pUartDB);
 593              		.loc 1 83 0
 594 00d4 674B     		ldr	r3, .L54+8
 595 00d6 1868     		ldr	r0, [r3]
 596 00d8 FFF7FEFF 		bl	Uart_idleReadEnable
 597              	.LVL72:
  84:../user/source/main.c ****             if (FLAG_UartZD_HasData)
 598              		.loc 1 84 0
 599 00dc 664B     		ldr	r3, .L54+12
 600 00de 1868     		ldr	r0, [r3]
 601 00e0 FFF7FEFF 		bl	Uart_idleReadEnable
 602              	.LVL73:
  85:../user/source/main.c ****             {
 603              		.loc 1 85 0
 604 00e4 654B     		ldr	r3, .L54+16
 605 00e6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 606 00e8 83B1     		cbz	r3, .L39
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 20


  87:../user/source/main.c ****                 FLAG_UartZD_HasData = false;
 607              		.loc 1 87 0
 608 00ea 624D     		ldr	r5, .L54+8
 609 00ec 2868     		ldr	r0, [r5]
 610 00ee FFF7FEFF 		bl	Uart_idleReadDisable
 611              	.LVL74:
  88:../user/source/main.c ****                 dwLen = dwUartCopy(pUartZD, ucApp_Buf_ZD2DB, pUartDB);
 612              		.loc 1 88 0
 613 00f2 0022     		movs	r2, #0
 614 00f4 614B     		ldr	r3, .L54+16
 615 00f6 1A70     		strb	r2, [r3]
  89:../user/source/main.c ****                 Uart_idleReadEnable(pUartZD);
 616              		.loc 1 89 0
 617 00f8 5F4B     		ldr	r3, .L54+12
 618 00fa 1A68     		ldr	r2, [r3]
 619 00fc 6049     		ldr	r1, .L54+20
 620 00fe 2868     		ldr	r0, [r5]
 621 0100 FFF7FEFF 		bl	dwUartCopy
 622              	.LVL75:
  90:../user/source/main.c ****                 //if (pframe = pGetpFrame(ucApp_Buf_ZD2DB, dwLen) == NULL)
 623              		.loc 1 90 0
 624 0104 2868     		ldr	r0, [r5]
 625 0106 FFF7FEFF 		bl	Uart_idleReadEnable
 626              	.LVL76:
  92:../user/source/main.c ****             }
 627              		.loc 1 92 0
 628 010a 94E7     		b	.L33
 629              	.L39:
  94:../user/source/main.c ****             {
 630              		.loc 1 94 0
 631 010c 5D4B     		ldr	r3, .L54+24
 632 010e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 633 0110 002B     		cmp	r3, #0
 634 0112 5DD0     		beq	.L40
  96:../user/source/main.c ****                 FLAG_UartDB_HasData = false;
 635              		.loc 1 96 0
 636 0114 584D     		ldr	r5, .L54+12
 637 0116 2868     		ldr	r0, [r5]
 638 0118 FFF7FEFF 		bl	Uart_idleReadDisable
 639              	.LVL77:
  97:../user/source/main.c ****                 dlt698Frame.pStart = NULL;
 640              		.loc 1 97 0
 641 011c 0023     		movs	r3, #0
 642 011e 594A     		ldr	r2, .L54+24
 643 0120 1370     		strb	r3, [r2]
  98:../user/source/main.c ****                 //dwLen = 0;
 644              		.loc 1 98 0
 645 0122 0193     		str	r3, [sp, #4]
 102:../user/source/main.c ****                     break;
 646              		.loc 1 102 0
 647 0124 4FF47A72 		mov	r2, #1000
 648 0128 5749     		ldr	r1, .L54+28
 649 012a 2868     		ldr	r0, [r5]
 650 012c FFF7FEFF 		bl	Uart_Read
 651              	.LVL78:
 652 0130 0546     		mov	r5, r0
 653 0132 0028     		cmp	r0, #0
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 21


 654 0134 3FF47FAF 		beq	.L33
 105:../user/source/main.c ****                 {
 655              		.loc 1 105 0
 656 0138 01AA     		add	r2, sp, #4
 657 013a 0146     		mov	r1, r0
 658 013c 5248     		ldr	r0, .L54+28
 659              	.LVL79:
 660 013e FFF7FEFF 		bl	pGetpFrame
 661              	.LVL80:
 662 0142 80B9     		cbnz	r0, .L41
 107:../user/source/main.c ****                 }
 663              		.loc 1 107 0
 664 0144 494B     		ldr	r3, .L54
 665 0146 1B68     		ldr	r3, [r3]
 666 0148 504A     		ldr	r2, .L54+32
 667 014a A2FB0323 		umull	r2, r3, r2, r3
 668 014e 9B09     		lsrs	r3, r3, #6
 669 0150 4FF47A72 		mov	r2, #1000
 670 0154 02FB03F3 		mul	r3, r2, r3
 671 0158 2A46     		mov	r2, r5
 672 015a 4B49     		ldr	r1, .L54+28
 673 015c 4548     		ldr	r0, .L54+8
 674 015e 0068     		ldr	r0, [r0]
 675 0160 FFF7FEFF 		bl	Uart_OnceWrite
 676              	.LVL81:
 677 0164 34E0     		b	.L40
 678              	.L41:
 110:../user/source/main.c ****                 {
 679              		.loc 1 110 0
 680 0166 4A4B     		ldr	r3, .L54+36
 681 0168 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 682 016a 8BB3     		cbz	r3, .L40
 112:../user/source/main.c ****                     {
 683              		.loc 1 112 0
 684 016c 05A9     		add	r1, sp, #20
 685 016e 01A8     		add	r0, sp, #4
 686 0170 FFF7FEFF 		bl	dwGet698Apdu
 687              	.LVL82:
 688 0174 0146     		mov	r1, r0
 689 0176 00B3     		cbz	r0, .L42
 114:../user/source/main.c ****                         {
 690              		.loc 1 114 0
 691 0178 464A     		ldr	r2, .L54+40
 692 017a 0598     		ldr	r0, [sp, #20]
 693              	.LVL83:
 694 017c FFF7FEFF 		bl	dwAPduAnalyze
 695              	.LVL84:
 696 0180 0028     		cmp	r0, #0
 697 0182 12DC     		bgt	.L52
 698 0184 19E0     		b	.L42
 699              	.LVL85:
 700              	.L45:
 119:../user/source/main.c ****                                 {
 701              		.loc 1 119 0
 702 0186 05EB4502 		add	r2, r5, r5, lsl #1
 703 018a 9300     		lsls	r3, r2, #2
 704 018c 414A     		ldr	r2, .L54+40
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 22


 705 018e 1344     		add	r3, r3, r2
 706 0190 1B89     		ldrh	r3, [r3, #8]
 707 0192 B3F5005F 		cmp	r3, #8192
 708 0196 06D1     		bne	.L44
 121:../user/source/main.c ****                                 }
 709              		.loc 1 121 0
 710 0198 05EB4503 		add	r3, r5, r5, lsl #1
 711 019c 9800     		lsls	r0, r3, #2
 712 019e 0830     		adds	r0, r0, #8
 713 01a0 1044     		add	r0, r0, r2
 714 01a2 FFF7FEFF 		bl	v698VoltageModify
 715              	.LVL86:
 716              	.L44:
 117:../user/source/main.c ****                             {
 717              		.loc 1 117 0 discriminator 2
 718 01a6 0135     		adds	r5, r5, #1
 719              	.LVL87:
 720 01a8 00E0     		b	.L43
 721              	.LVL88:
 722              	.L52:
 723 01aa 0025     		movs	r5, #0
 724              	.L43:
 725              	.LVL89:
 117:../user/source/main.c ****                             {
 726              		.loc 1 117 0 is_stmt 0 discriminator 1
 727 01ac 394B     		ldr	r3, .L54+40
 728 01ae 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 729 01b0 9D42     		cmp	r5, r3
 730 01b2 E8D3     		bcc	.L45
 124:../user/source/main.c ****                         }
 731              		.loc 1 124 0 is_stmt 1
 732 01b4 01A8     		add	r0, sp, #4
 733 01b6 FFF7FEFF 		bl	dwReCalculateFCS
 734              	.LVL90:
 735              	.L42:
 127:../user/source/main.c ****                 }
 736              		.loc 1 127 0
 737 01ba BDF81020 		ldrh	r2, [sp, #16]
 738 01be 2B4B     		ldr	r3, .L54
 739 01c0 1B68     		ldr	r3, [r3]
 740 01c2 5B08     		lsrs	r3, r3, #1
 741 01c4 0232     		adds	r2, r2, #2
 742 01c6 0199     		ldr	r1, [sp, #4]
 743 01c8 2A48     		ldr	r0, .L54+8
 744 01ca 0068     		ldr	r0, [r0]
 745 01cc FFF7FEFF 		bl	Uart_OnceWrite
 746              	.LVL91:
 747              	.L40:
 131:../user/source/main.c ****             break;
 748              		.loc 1 131 0
 749 01d0 294B     		ldr	r3, .L54+12
 750 01d2 1868     		ldr	r0, [r3]
 751 01d4 FFF7FEFF 		bl	Uart_idleReadEnable
 752              	.LVL92:
 132:../user/source/main.c ****         }
 753              		.loc 1 132 0
 754 01d8 2DE7     		b	.L33
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 23


 755              	.L35:
 136:../user/source/main.c ****             /*´®¿ÚÎÞÊÕ·¢Ê±Î¹¹·¼ä¸ôÎª1ms×óÓÒ*/
 756              		.loc 1 136 0
 757 01da 244B     		ldr	r3, .L54
 758 01dc 1868     		ldr	r0, [r3]
 759 01de FFF7FEFF 		bl	vLedRun
 760              	.LVL93:
 138:../user/source/main.c ****             /*¼¯ÖÐÆ÷²àÊý¾ÝÖ¡ÊÕÖ¡´¦Àí*/
 761              		.loc 1 138 0
 762 01e2 FFF7FEFF 		bl	vFeedExtWatchDog
 763              	.LVL94:
 140:../user/source/main.c ****             {
 764              		.loc 1 140 0
 765 01e6 234B     		ldr	r3, .L54+8
 766 01e8 1B68     		ldr	r3, [r3]
 767 01ea 5868     		ldr	r0, [r3, #4]
 768 01ec FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 769              	.LVL95:
 770 01f0 10B9     		cbnz	r0, .L46
 142:../user/source/main.c ****             }
 771              		.loc 1 142 0
 772 01f2 2348     		ldr	r0, .L54+20
 773 01f4 FFF7FEFF 		bl	RsvFrameHandle
 774              	.LVL96:
 775              	.L46:
 146:../user/source/main.c ****             {
 776              		.loc 1 146 0
 777 01f8 1F4B     		ldr	r3, .L54+12
 778 01fa 1B68     		ldr	r3, [r3]
 779 01fc 5868     		ldr	r0, [r3, #4]
 780 01fe FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 781              	.LVL97:
 782 0202 10B1     		cbz	r0, .L47
 148:../user/source/main.c ****             }
 783              		.loc 1 148 0
 784 0204 FFF7FEFF 		bl	VoltageTimeOutHandle
 785              	.LVL98:
 786 0208 64E0     		b	.L48
 787              	.L47:
 154:../user/source/main.c ****                 {
 788              		.loc 1 154 0
 789 020a 1B4B     		ldr	r3, .L54+12
 790 020c 1B68     		ldr	r3, [r3]
 791 020e 1E49     		ldr	r1, .L54+28
 792 0210 5868     		ldr	r0, [r3, #4]
 793 0212 FFF7FEFF 		bl	blRecvFrame
 794              	.LVL99:
 795 0216 0028     		cmp	r0, #0
 796 0218 46D1     		bne	.L49
 157:../user/source/main.c ****                         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 797              		.loc 1 157 0
 798 021a 1F4B     		ldr	r3, .L54+44
 799 021c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 800 021e 002B     		cmp	r3, #0
 801 0220 58D1     		bne	.L48
 158:../user/source/main.c ****                     {
 802              		.loc 1 158 0 discriminator 1
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 24


 803 0222 1921     		movs	r1, #25
 804 0224 1D4B     		ldr	r3, .L54+48
 805 0226 1888     		ldrh	r0, [r3]
 806 0228 FFF7FEFF 		bl	blTime2_Update
 807              	.LVL100:
 157:../user/source/main.c ****                         (blTime2_Update(uwTime2FramesCounter, DLT645_FRAMES_DELAY_MAX)))
 808              		.loc 1 157 0 discriminator 1
 809 022c 0028     		cmp	r0, #0
 810 022e 51D0     		beq	.L48
 161:../user/source/main.c ****                         {
 811              		.loc 1 161 0
 812 0230 1348     		ldr	r0, .L54+20
 813 0232 FFF7FEFF 		bl	blVoltage_Create
 814              	.LVL101:
 815 0236 0028     		cmp	r0, #0
 816 0238 4CD0     		beq	.L48
 163:../user/source/main.c ****                             /*·¢ËÍµçÑ¹Ö¡*/
 817              		.loc 1 163 0
 818 023a 0E4D     		ldr	r5, .L54+8
 819 023c 2B68     		ldr	r3, [r5]
 820 023e 1048     		ldr	r0, .L54+20
 821 0240 427A     		ldrb	r2, [r0, #9]	@ zero_extendqisi2
 822 0242 9968     		ldr	r1, [r3, #8]
 823 0244 FFF7FEFF 		bl	ucDrv_Buf_PutBytes
 824              	.LVL102:
 165:../user/source/main.c ****                             {
 825              		.loc 1 165 0
 826 0248 2B68     		ldr	r3, [r5]
 827 024a 9868     		ldr	r0, [r3, #8]
 828 024c FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 829              	.LVL103:
 830 0250 0028     		cmp	r0, #0
 831 0252 3FD1     		bne	.L48
 167:../user/source/main.c ****                                 /*µÈ´ýµçÑ¹»ØÖ¡×´Ì¬ÇåÎ»*/
 832              		.loc 1 167 0
 833 0254 1248     		ldr	r0, .L54+52
 834 0256 FFF7FEFF 		bl	Uart_DataPut
 835              	.LVL104:
 169:../user/source/main.c ****                                 /*¼ÆÊ±Æ÷¸´Î»*/
 836              		.loc 1 169 0
 837 025a 0122     		movs	r2, #1
 838 025c 0E4B     		ldr	r3, .L54+44
 839 025e 1A70     		strb	r2, [r3]
 171:../user/source/main.c ****                                 uwTime2FramesCounter = 0;
 840              		.loc 1 171 0
 841 0260 0023     		movs	r3, #0
 842 0262 104A     		ldr	r2, .L54+56
 843 0264 1370     		strb	r3, [r2]
 172:../user/source/main.c ****                             }
 844              		.loc 1 172 0
 845 0266 0D4A     		ldr	r2, .L54+48
 846 0268 1380     		strh	r3, [r2]	@ movhi
 847 026a 33E0     		b	.L48
 848              	.L55:
 849              		.align	2
 850              	.L54:
 851 026c 00000000 		.word	gSystickAccuracy
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 25


 852 0270 CDCCCCCC 		.word	-858993459
 853 0274 00000000 		.word	pUartZD
 854 0278 00000000 		.word	pUartDB
 855 027c 00000000 		.word	.LANCHOR2
 856 0280 00000000 		.word	ucApp_Buf_ZD2DB
 857 0284 00000000 		.word	.LANCHOR3
 858 0288 00000000 		.word	ucApp_Buf_DB2ZD
 859 028c D34D6210 		.word	274877907
 860 0290 00000000 		.word	Voltage_Change_State
 861 0294 00000000 		.word	stCollData
 862 0298 00000000 		.word	Voltage_Frame_Status
 863 029c 00000000 		.word	uwTime2FramesCounter
 864 02a0 00380140 		.word	1073821696
 865 02a4 00000000 		.word	blFramesCounterStatus
 866              	.L49:
 180:../user/source/main.c ****                     ucDrv_Buf_PutBytes(ucApp_Buf_DB2ZD, pUartZD->pSndbuf, uc645DataDomainLength + 1
 867              		.loc 1 180 0
 868 02a8 2F4E     		ldr	r6, .L56
 869 02aa 3046     		mov	r0, r6
 870 02ac FFF7FEFF 		bl	vDBDataID_Handle
 871              	.LVL105:
 181:../user/source/main.c ****                     if (!blDrv_Buf_IsEmpty(pUartZD->pSndbuf))
 872              		.loc 1 181 0
 873 02b0 2E4D     		ldr	r5, .L56+4
 874 02b2 2B68     		ldr	r3, [r5]
 875 02b4 2E4A     		ldr	r2, .L56+8
 876 02b6 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 877 02b8 0C32     		adds	r2, r2, #12
 878 02ba 9968     		ldr	r1, [r3, #8]
 879 02bc 3046     		mov	r0, r6
 880 02be FFF7FEFF 		bl	ucDrv_Buf_PutBytes
 881              	.LVL106:
 182:../user/source/main.c ****                     {
 882              		.loc 1 182 0
 883 02c2 2B68     		ldr	r3, [r5]
 884 02c4 9868     		ldr	r0, [r3, #8]
 885 02c6 FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 886              	.LVL107:
 887 02ca 18B9     		cbnz	r0, .L48
 184:../user/source/main.c ****                     }
 888              		.loc 1 184 0
 889 02cc 2B68     		ldr	r3, [r5]
 890 02ce 1868     		ldr	r0, [r3]
 891 02d0 FFF7FEFF 		bl	Uart_DataPut
 892              	.LVL108:
 893              	.L48:
 191:../user/source/main.c ****             {
 894              		.loc 1 191 0
 895 02d4 274B     		ldr	r3, .L56+12
 896 02d6 1B68     		ldr	r3, [r3]
 897 02d8 5868     		ldr	r0, [r3, #4]
 898 02da FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 899              	.LVL109:
 900 02de 0028     		cmp	r0, #0
 901 02e0 7FF4A9AE 		bne	.L33
 193:../user/source/main.c ****                 {
 902              		.loc 1 193 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 26


 903 02e4 234B     		ldr	r3, .L56+12
 904 02e6 1B68     		ldr	r3, [r3]
 905 02e8 2349     		ldr	r1, .L56+16
 906 02ea 5868     		ldr	r0, [r3, #4]
 907 02ec FFF7FEFF 		bl	blRecvFrame
 908              	.LVL110:
 909 02f0 0028     		cmp	r0, #0
 910 02f2 3FF4A0AE 		beq	.L33
 195:../user/source/main.c ****                     {
 911              		.loc 1 195 0
 912 02f6 204B     		ldr	r3, .L56+16
 913 02f8 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 914 02fa 132B     		cmp	r3, #19
 915 02fc 1DD1     		bne	.L50
 197:../user/source/main.c ****                         ucApp_Buf_INFR[2] = 0x01;
 916              		.loc 1 197 0
 917 02fe 1E48     		ldr	r0, .L56+16
 918 0300 0123     		movs	r3, #1
 919 0302 4370     		strb	r3, [r0, #1]
 198:../user/source/main.c ****                         ucApp_Buf_INFR[3] = 0x01;
 920              		.loc 1 198 0
 921 0304 8370     		strb	r3, [r0, #2]
 199:../user/source/main.c ****                         ucApp_Buf_INFR[4] = 0x01;
 922              		.loc 1 199 0
 923 0306 C370     		strb	r3, [r0, #3]
 200:../user/source/main.c ****                         ucApp_Buf_INFR[5] = 0x01;
 924              		.loc 1 200 0
 925 0308 0371     		strb	r3, [r0, #4]
 201:../user/source/main.c ****                         ucApp_Buf_INFR[6] = 0x01;
 926              		.loc 1 201 0
 927 030a 4371     		strb	r3, [r0, #5]
 202:../user/source/main.c ****                         ucApp_Buf_INFR[8] = 0x93;
 928              		.loc 1 202 0
 929 030c 8371     		strb	r3, [r0, #6]
 203:../user/source/main.c ****                         ucApp_Buf_INFR[9] = 0x06;
 930              		.loc 1 203 0
 931 030e 9323     		movs	r3, #147
 932 0310 0372     		strb	r3, [r0, #8]
 204:../user/source/main.c ****                         ucApp_Buf_INFR[10] = 0x34;
 933              		.loc 1 204 0
 934 0312 0623     		movs	r3, #6
 935 0314 4372     		strb	r3, [r0, #9]
 205:../user/source/main.c ****                         ucApp_Buf_INFR[11] = 0x34;
 936              		.loc 1 205 0
 937 0316 3423     		movs	r3, #52
 938 0318 8372     		strb	r3, [r0, #10]
 206:../user/source/main.c ****                         ucApp_Buf_INFR[12] = 0x34;
 939              		.loc 1 206 0
 940 031a C372     		strb	r3, [r0, #11]
 207:../user/source/main.c ****                         ucApp_Buf_INFR[13] = 0x34;
 941              		.loc 1 207 0
 942 031c 0373     		strb	r3, [r0, #12]
 208:../user/source/main.c ****                         ucApp_Buf_INFR[14] = 0x34;
 943              		.loc 1 208 0
 944 031e 4373     		strb	r3, [r0, #13]
 209:../user/source/main.c ****                         ucApp_Buf_INFR[15] = 0x34;
 945              		.loc 1 209 0
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 27


 946 0320 8373     		strb	r3, [r0, #14]
 210:../user/source/main.c ****                         ucApp_Buf_INFR[16] = 0xA7;
 947              		.loc 1 210 0
 948 0322 C373     		strb	r3, [r0, #15]
 211:../user/source/main.c ****                         ucApp_Buf_INFR[17] = 0x16;
 949              		.loc 1 211 0
 950 0324 A723     		movs	r3, #167
 951 0326 0374     		strb	r3, [r0, #16]
 212:../user/source/main.c ****                         ucDrv_Buf_PutBytes(ucApp_Buf_INFR, pUartIR->pSndbuf, 18);
 952              		.loc 1 212 0
 953 0328 1623     		movs	r3, #22
 954 032a 4374     		strb	r3, [r0, #17]
 213:../user/source/main.c ****                     }
 955              		.loc 1 213 0
 956 032c 114B     		ldr	r3, .L56+12
 957 032e 1B68     		ldr	r3, [r3]
 958 0330 1222     		movs	r2, #18
 959 0332 9968     		ldr	r1, [r3, #8]
 960 0334 FFF7FEFF 		bl	ucDrv_Buf_PutBytes
 961              	.LVL111:
 962 0338 02E0     		b	.L51
 963              	.L50:
 217:../user/source/main.c ****                     }
 964              		.loc 1 217 0
 965 033a 0F48     		ldr	r0, .L56+16
 966 033c FFF7FEFF 		bl	vINFRDataID_Handle
 967              	.LVL112:
 968              	.L51:
 220:../user/source/main.c ****                     {
 969              		.loc 1 220 0
 970 0340 0C4B     		ldr	r3, .L56+12
 971 0342 1B68     		ldr	r3, [r3]
 972 0344 9868     		ldr	r0, [r3, #8]
 973 0346 FFF7FEFF 		bl	blDrv_Buf_IsEmpty
 974              	.LVL113:
 975 034a 0028     		cmp	r0, #0
 976 034c 7FF473AE 		bne	.L33
 222:../user/source/main.c ****                         //TIM_CCxCmd(TIM5, TIM_Channel_2, TIM_CCx_Enable);
 977              		.loc 1 222 0
 978 0350 0A4D     		ldr	r5, .L56+20
 979 0352 0022     		movs	r2, #0
 980 0354 0A49     		ldr	r1, .L56+24
 981 0356 2846     		mov	r0, r5
 982 0358 FFF7FEFF 		bl	USART_ITConfig
 983              	.LVL114:
 224:../user/source/main.c ****                     }
 984              		.loc 1 224 0
 985 035c 0122     		movs	r2, #1
 986 035e 0949     		ldr	r1, .L56+28
 987 0360 2846     		mov	r0, r5
 988 0362 FFF7FEFF 		bl	USART_ITConfig
 989              	.LVL115:
 990 0366 66E6     		b	.L33
 991              	.L57:
 992              		.align	2
 993              	.L56:
 994 0368 00000000 		.word	ucApp_Buf_DB2ZD
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 28


 995 036c 00000000 		.word	pUartZD
 996 0370 00000000 		.word	uc645DataDomainLength
 997 0374 00000000 		.word	pUartIR
 998 0378 00000000 		.word	ucApp_Buf_INFR
 999 037c 00440040 		.word	1073759232
 1000 0380 05010500 		.word	327941
 1001 0384 07010700 		.word	459015
 1002              		.cfi_endproc
 1003              	.LFE111:
 1005              		.section	.text.vUartZD_BaudelayCal,"ax",%progbits
 1006              		.align	2
 1007              		.global	vUartZD_BaudelayCal
 1008              		.thumb
 1009              		.thumb_func
 1011              	vUartZD_BaudelayCal:
 1012              	.LFB115:
 327:../user/source/main.c **** 
 1013              		.loc 1 327 0
 1014              		.cfi_startproc
 1015              		@ args = 0, pretend = 0, frame = 0
 1016              		@ frame_needed = 0, uses_anonymous_args = 0
 1017              		@ link register save eliminated.
 1018              	.LVL116:
 332:../user/source/main.c ****     /*È¡µ±Ç°tickÊý£¬0~0xFFFFÑ­»·*/
 1019              		.loc 1 332 0
 1020 0000 0C4A     		ldr	r2, .L61
 1021 0002 1368     		ldr	r3, [r2]
 1022 0004 013B     		subs	r3, r3, #1
 1023 0006 1360     		str	r3, [r2]
 334:../user/source/main.c ****     /*³õ´ÎÊÕµ½´®¿ÚÊý¾Ý£¬ÏµÍ³tick×î´ó65535*/
 1024              		.loc 1 334 0
 1025 0008 0B4B     		ldr	r3, .L61+4
 1026 000a 1A68     		ldr	r2, [r3]
 1027              	.LVL117:
 336:../user/source/main.c ****     {
 1028              		.loc 1 336 0
 1029 000c 0B4B     		ldr	r3, .L61+8
 1030 000e 1B68     		ldr	r3, [r3]
 1031 0010 B3F1FF3F 		cmp	r3, #-1
 1032 0014 0BD0     		beq	.L59
 339:../user/source/main.c ****         /*µ±Ç°tickÊý´æÎªcount*/
 1033              		.loc 1 339 0
 1034 0016 D31A     		subs	r3, r2, r3
 1035 0018 03F57F43 		add	r3, r3, #65280
 1036 001c FF33     		adds	r3, r3, #255
 1037 001e 9BB2     		uxth	r3, r3
 1038              	.LVL118:
 341:../user/source/main.c ****         /*ÓëÉÏ´Îdelay±È½Ï£¬È¡½ÏÐ¡Öµ´æÎªdelay*/
 1039              		.loc 1 341 0
 1040 0020 0649     		ldr	r1, .L61+8
 1041 0022 0A60     		str	r2, [r1]
 343:../user/source/main.c ****         {
 1042              		.loc 1 343 0
 1043 0024 0268     		ldr	r2, [r0]
 1044              	.LVL119:
 1045 0026 9342     		cmp	r3, r2
 1046 0028 03D2     		bcs	.L58
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 29


 345:../user/source/main.c ****         }
 1047              		.loc 1 345 0
 1048 002a 0360     		str	r3, [r0]
 1049              	.LVL120:
 1050 002c 7047     		bx	lr
 1051              	.LVL121:
 1052              	.L59:
 352:../user/source/main.c ****     }
 1053              		.loc 1 352 0
 1054 002e 034B     		ldr	r3, .L61+8
 1055 0030 1A60     		str	r2, [r3]
 1056              	.LVL122:
 1057              	.L58:
 1058 0032 7047     		bx	lr
 1059              	.L62:
 1060              		.align	2
 1061              	.L61:
 1062 0034 00000000 		.word	.LANCHOR1
 1063 0038 00000000 		.word	TICKS
 1064 003c 00000000 		.word	.LANCHOR4
 1065              		.cfi_endproc
 1066              	.LFE115:
 1068              		.comm	uwBaudelay,4,4
 1069              		.global	irqCount
 1070              		.global	FLAG_UartDB_HasData
 1071              		.global	FLAG_UartZD_HasData
 1072              		.comm	stCollData,1532,4
 1073              		.comm	gSystickAccuracy,4,4
 1074              		.section	.bss.FLAG_UartDB_HasData,"aw",%nobits
 1075              		.set	.LANCHOR3,. + 0
 1078              	FLAG_UartDB_HasData:
 1079 0000 00       		.space	1
 1080              		.section	.bss.last_tick.7485,"aw",%nobits
 1081              		.align	2
 1082              		.set	.LANCHOR0,. + 0
 1085              	last_tick.7485:
 1086 0000 00000000 		.space	4
 1087              		.section	.data.irqCount,"aw",%progbits
 1088              		.align	2
 1089              		.set	.LANCHOR1,. + 0
 1092              	irqCount:
 1093 0000 64000000 		.word	100
 1094              		.section	.data.LAST_TICK.7472,"aw",%progbits
 1095              		.align	2
 1096              		.set	.LANCHOR4,. + 0
 1099              	LAST_TICK.7472:
 1100 0000 FFFFFFFF 		.word	-1
 1101              		.section	.bss.FLAG_UartZD_HasData,"aw",%nobits
 1102              		.set	.LANCHOR2,. + 0
 1105              	FLAG_UartZD_HasData:
 1106 0000 00       		.space	1
 1107              		.text
 1108              	.Letext0:
 1109              		.file 2 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\machine\\_defaul
 1110              		.file 3 "d:\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\\include\\sys\\_stdint.h"
 1111              		.file 4 "../cmsis/include/stm32f37x.h"
 1112              		.file 5 "../stdperiph/include/stm32f37x_gpio.h"
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 30


 1113              		.file 6 "../user/include/BaseDef.h"
 1114              		.file 7 "../user/include/Uart.h"
 1115              		.file 8 "../user/include/DLT645.h"
 1116              		.file 9 "../user/include/DLT698_45.h"
 1117              		.file 10 "../user/include/DLT698.h"
 1118              		.file 11 "../user/include/protocol.h"
 1119              		.file 12 "../cmsis/include/core_cm4.h"
 1120              		.file 13 "../user/include/Time.h"
 1121              		.file 14 "../user/include/GPIO.h"
 1122              		.file 15 "../stdperiph/include/stm32f37x_exti.h"
 1123              		.file 16 "../stdperiph/include/stm32f37x_misc.h"
 1124              		.file 17 "../user/include/Flash.h"
 1125              		.file 18 "../stdperiph/include/stm32f37x_usart.h"
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:22     .text.RsvFrameHandle:00000000 $t
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:26     .text.RsvFrameHandle:00000000 RsvFrameHandle
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:106    .text.RsvFrameHandle:0000005c $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:115    .text.VoltageTimeOutHandle:00000000 $t
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:119    .text.VoltageTimeOutHandle:00000000 VoltageTimeOutHandle
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:190    .text.VoltageTimeOutHandle:00000054 $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:199    .text.vLedRun:00000000 $t
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:203    .text.vLedRun:00000000 vLedRun
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:253    .text.vLedRun:00000040 $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:260    .text.uwFindBaudRate:00000000 $t
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:265    .text.uwFindBaudRate:00000000 uwFindBaudRate
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:321    .text.vAutoSetBaudrate:00000000 $t
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:325    .text.vAutoSetBaudrate:00000000 vAutoSetBaudrate
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:419    .text.vAutoSetBaudrate:0000007c $d
                            *COM*:00000004 uwBaudelay
                            *COM*:00000004 gSystickAccuracy
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:430    .text.main:00000000 $t
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:435    .text.main:00000000 main
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:851    .text.main:0000026c $d
                            *COM*:000005fc stCollData
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:868    .text.main:000002a8 $t
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:994    .text.main:00000368 $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1006   .text.vUartZD_BaudelayCal:00000000 $t
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1011   .text.vUartZD_BaudelayCal:00000000 vUartZD_BaudelayCal
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1062   .text.vUartZD_BaudelayCal:00000034 $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1092   .data.irqCount:00000000 irqCount
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1078   .bss.FLAG_UartDB_HasData:00000000 FLAG_UartDB_HasData
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1105   .bss.FLAG_UartZD_HasData:00000000 FLAG_UartZD_HasData
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1079   .bss.FLAG_UartDB_HasData:00000000 $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1081   .bss.last_tick.7485:00000000 $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1085   .bss.last_tick.7485:00000000 last_tick.7485
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1088   .data.irqCount:00000000 $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1095   .data.LAST_TICK.7472:00000000 $d
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1099   .data.LAST_TICK.7472:00000000 LAST_TICK.7472
C:\Users\strag\AppData\Local\Temp\ccotv46f.s:1106   .bss.FLAG_UartZD_HasData:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
blRecvFrame
ucDrv_Buf_PutBytes
blDrv_Buf_IsEmpty
Uart_DataPut
pUartZD
Voltage_Frame_Status
blFramesCounterStatus
pUartDB
uc645DataDomainLength
blTime2_Update
blVoltage_Create
uwTime2FramesCounter
ucApp_Buf_ZD2DB
GPIO_ReadOutputDataBit
GPIO_WriteBit
TICKS
vSystickSetAccuracy
ARM GAS  C:\Users\strag\AppData\Local\Temp\ccotv46f.s 			page 32


vSystickIntCmd
vExti_Init
vFeedExtWatchDog
EXTI_DeInit
vUart_EnableBaudrate
Uart_IdleRead
vBuf_Clear
NVIC_PriorityGroupConfig
vInterFlash_Init
vGPIO_Init
vTimer_Init
vLed_Light
Voltage_Change_Init
vCurrent_Limit_DefaultSet
vEnergy_Modify_Init
Uart_idleReadEnable
Uart_idleReadDisable
dwUartCopy
GetProtocolType
Uart_Read
pGetpFrame
Uart_OnceWrite
dwGet698Apdu
dwAPduAnalyze
v698VoltageModify
dwReCalculateFCS
ucApp_Buf_DB2ZD
Voltage_Change_State
vDBDataID_Handle
vINFRDataID_Handle
USART_ITConfig
pUartIR
ucApp_Buf_INFR
